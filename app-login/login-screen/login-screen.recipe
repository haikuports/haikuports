SUMMARY="A login screen for HaikuOS"
DESCRIPTION="A simple login screen using Python and Qt for HaikuOS"
HOMEPAGE="https://github.com/username/login-screen"
COPYRIGHT="2025 Andi-Mihai Anton"
LICENSE="MIT"
REVISION="1"
SOURCE_URI="none"
ARCHITECTURES="x86_64"

PROVIDES="
    app_login = 1.0
"

REQUIRES="
    haiku
    python3
    pyqt5
"

BUILD()
{
    mkdir -p $workDir/data/home/config/settings/boot/launch
    mkdir -p $workDir/data/home/login

    cp $portDir/background.jpg $workDir/data/home/login/
    cp $portDir/login.py $workDir/data/home/login/

    # Scriptul de boot
    echo '#!/bin/sh' > $workDir/data/home/config/settings/boot/launch/login
    echo 'python3 /boot/home/login/login.py' >> $workDir/data/home/config/settings/boot/launch/login
    chmod +x $workDir/data/home/config/settings/boot/launch/login
}

INSTALL()
{
    install -m 755 -d $appsDir/login-screen
    cp -r $workDir/data/home/login $appsDir/login-screen
    cp -r $workDir/data/home/config/settings/boot/launch/login $appsDir/login-screen
}

