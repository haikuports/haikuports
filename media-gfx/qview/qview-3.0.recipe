SUMMARY="Minimalist image viewer"
DESCRIPTION="qView is an image viewer designed with minimalism and usability \
in mind. \
qView was designed from the very start to be as visually minimal and space \
efficient as possible. No cluttered interface, just your image and a titlebar.\
qView opens practically instantly, and switching images is just as quick, all \
while having low memory and CPU usage. \
With features such as animated GIF controls, file history, rotation/mirroring,\
 and multithreaded preloading, minimalism doesn't have to be a compromise.
"
HOMEPAGE="https://interversehq.com/qview/"
COPYRIGHT="2018-2020 jurplel and qView contributors"
LICENSE="GNU GPL v3"
REVISION="1"
SOURCE_URI="https://github.com/jurplel/qView/archive/$portVersion.zip"
CHECKSUM_SHA256="5bc2a2eb3aa6329fe6f207a72497f115625d84a0e76663872fd2e401ea7c5ae1"
SOURCE_DIR="qView-$portVersion"


ARCHITECTURES="!x86_gcc2 x86_64"
SECONDARY_ARCHITECTURES="x86"

PROVIDES="
	qview$secondaryArchSuffix = $portVersion
	app:qView
	"
REQUIRES="
	haiku$secondaryArchSuffix
	lib:libQt5Gui$secondaryArchSuffix
	lib:libQt5Network$secondaryArchSuffix
	lib:libQt5Core$secondaryArchSuffix
	lib:libGL$secondaryArchSuffix
	"

BUILD_REQUIRES="
	haiku${secondaryArchSuffix}_devel
	devel:libQt5Gui$secondaryArchSuffix
	devel:libQt5Network$secondaryArchSuffix
	devel:libQt5Core$secondaryArchSuffix
	devel:libGL$secondaryArchSuffix
	"

BUILD_PREREQUIRES="
	cmd:g++$secondaryArchSuffix
	cmd:pkg_config$secondaryArchSuffix
	cmd:make
	cmd:qmake$secondaryArchSuffix >= 5
	"

BUILD()
{
	qmake .
	make $jobArgs
}

INSTALL()
{
	mkdir -p $appsDir
	cp bin/qview $appsDir/qView
	addAppDeskbarSymlink $appsDir/qView
}
