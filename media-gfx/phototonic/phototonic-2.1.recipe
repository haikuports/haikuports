SUMMARY="An image viewer and organizer built with Qt and Exiv2"
DESCRIPTION="Features
* Support for common image formats and GIF animation
* Supports tagging images, and filtering images by tags (IPTC)
* Browse thumbnails recursively down a folder tree
* Dynamic thumbnails loading
* Image transformation and color manipulation
* Display image information and metadata
* Does not depend on any desktop environment."
HOMEPAGE="https://github.com/oferkv/phototonic/"
COPYRIGHT="2015-2018 Over Kashayov
           2015-2018 Christopher roy
           "
LICENSE="GNU GPL v3"
REVISION="1"
SOURCE_URI="https://github.com/oferkv/phototonic/archive/v$portVersion.tar.gz"
CHECKSUM_SHA256="a8b2dbc81750efabb65a4732b1704641afd4a4f772ef9c90817871ca2a52f5ef"
#PATCHES="phototonic-$portVersion.patchset"
ADDITIONAL_FILES="phototonic.rdef.in"

ARCHITECTURES="!x86_gcc2 x86 x86_64"
if [ "$targetArchitecture" = x86_gcc2 ]; then
SECONDARY_ARCHITECTURES="x86"
fi

PROVIDES="
	phototonic = $portVersion
	app:PhotoTonic = $portVersion
	"
REQUIRES="
	haiku$secondaryArchSuffix
	lib:libGL$secondaryArchSuffix
	lib:libQt5Core$secondaryArchSuffix
	lib:libQt5Gui$secondaryArchSuffix
	lib:libQt5Network$secondaryArchSuffix
	lib:libQt5Widgets$secondaryArchSuffix
	lib:libQt5Sql$secondaryArchSuffix
	lib:libQt5Svg$secondaryArchSuffix
	lib:libexiv2$secondaryArchSuffix
	lib:libz$secondaryArchSuffix
	lib:libiconv$secondaryArchSuffix
	lib:lintl$secondaryArchSuffix
	"

BUILD_REQUIRES="
	haiku${secondaryArchSuffix}_devel
	devel:libGL$secondaryArchSuffix
	devel:libQt5Core$secondaryArchSuffix
	devel:libQt5Gui$secondaryArchSuffix
	devel:libQt5Network$secondaryArchSuffix
	devel:libQt5Widgets$secondaryArchSuffix
	devel:libQt5Sql$secondaryArchSuffix
	devel:libQt5Svg$secondaryArchSuffix
	devel:libexiv2$secondaryArchSuffix
	devel:libz$secondaryArchSuffix
	devel:libiconv$secondaryArchSuffix
	devel:lintl$secondaryArchSuffix
	"
BUILD_PREREQUIRES="
	cmd:gcc
	cmd:make
	cmd:qmake >= 5
	"

BUILD()
{
	qmake
	make $jobArgs
}

INSTALL()
{
	mkdir -p $appsDir
	cp PhotoTonic $appsDir/PhotoTonic
	addAppDeskbarSymlink $appsDir/PhotoTonic
}
