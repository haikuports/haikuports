SUMMARY="FS-UAE is a cross platform Amiga emulator ported from WinUAE"
DESCRIPTION="Accurate Amiga Emulation

FS-UAE integrates the most accurate Amiga emulation code available from \
WinUAE. FS-UAE emulates A500, A500+, A600, A1200, A1000, A3000 and A4000 \
models, but you can tweak the hardware configuration and create customized \
Amigas.

On-Screen GUI With Gamepad Control

FS-UAE is fully controllable with a gamepad - you can easily swap floppies \
and load save states through the on-screen GUI. In addition to being great \
on your personal computer, FS-UAE is also well suited to be started from an \
emulator frontend running on a HTPC.

Configuration GUI

FS-UAE includes an easy-to-use graphical configuration program which allows \
you to enjoy FS-UAE and Amiga emulation without writing configuration files. \
Using this program is optional, and if you are a minimalist, you can instead \
use just FS-UAE alone.

Available for Multiple Operating Systems

FS-UAE works on Windows, Linux, Mac OS X, FreeBSD and OpenBSD. Apart from a \
few small differences, the feature set is the same on all platforms. The same \
configurations, floppy images and hard drives can be shared between multiple \
systems.

Solid Joystick and Gamepad Support

Many joysticks and gamepads are recognized out of the box without any \
configuration, with correct setup both for Amiga and CD32. Support for \
additional models can be configured with the joystick configuration tool \
bundled with FS-UAE Launcher.

Video Synchronization

Synchronize to your 50 Hz monitor (for PAL Amiga emulation) or 60 Hz \
monitor (for NTSC Amiga emulation) for perfect scrolling in games without \
the micro-stuttering which will otherwise occur. Available on all supported \
operating systems.

Scaling and Video Options

OpenGL is used for video output, with many options to tweak how the Amiga \
display is present. The Amiga display is streched to your screen by default, \
but you can enable aspect correction, zoom in or out, enable shaders for \
advanced effects, and use custom themes.
OpenRetro Game Database

Integration with the OpenRetro Game Database allows FS-UAE to scan your \
Amiga game files and automatically create entries (with covers and \
screenshots) for recognized ADF, IPF CD, and WHDLoad games. No manual \
configuration is needed.

Emulate High-End Amigas

FS-UAE supports emulating an Amiga 4000 with an CPU as fast as your \
system can emulate it. Picasso96 drivers can be used with the built-in \
UAEgfx card to display Workbench in high resolutions and with up to 16.7 \
million colors, and the built-in bsdsocket.library means that the Amiga \
will have access to the Internet.

Cross-Platform Online Play

A unique feature is support for cross-platform online play. You can now \
play Amiga games against (or with) friends over the Internet. The online \
play feature is designed in a way which avoids de-synchronization issues.

Available in Multiple Languages

Both FS-UAE and FS-UAE Launcher are translated into several languages. \
The currently supported languages are French, German, Italian, Norwegian \
(Bokm√•l), Polish, and Serbian. -In addition to English, which is the default \
language.

Flexible Screenshot Support

When you take a screenshot in FS-UAE, by default you get three different \
images saved to your screenshots folder. One is the real screenshot (the \
scaled graphics you see on screen), but FS-UAE also saves a 1:1 pixel image \
of the entire Amiga video output, and also an 1:1 image which is cropped to \
what you see on screen.

Built-In Support for WHDLoad

If you have archived WHDLoad games in .zip or .lha, you can launch most of \
them by simply adding the archive as a HD. FS-UAE Launcher will recognize \
that it is a WHDLoad game, and automatically configure an 'internal HD' to \
boot the game for you.

Open Source Software

FS-UAE is free software and is licensed under GPLv2 (libraries are \
licensed under LGPL or other open source licenses). Sources are available \
on the download page, and parts of the FS-UAE project (including the \
emulator itself) have public git repositories.

Community Support

There is a support forum for FS-UAE on the English Amiga Board with many \
active registered users. If you are stuck, you'll almost certainly get an \
answer to your questions there. You can also leave comments on fs-uae.net \
is you rather want that.

Online Documentation

A great deal of documentation about how to use and configure FS-UAE is \
available on fs-uae.net.

PPC Accelerator Support

Emulation of the CyberStorm PPC (and Blizzard PPC) means that you can \
run AmigaOS 4.1 on FS-UAE!"
HOMEPAGE="https://fs-uae.net/"
COPYRIGHT="2011-2017 Frode Solheim"
LICENSE="GNU GPL v2"
REVISION="1"
SOURCE_URI="https://fs-uae.net/stable/${portVersion}/fs-uae-${portVersion}.tar.gz"
CHECKSUM_SHA256="e2d5414d07c8bd5b740716471183bc5516bec0ae2989449c3026374dc4b86292"
SOURCE_DIR="fs-uae-$portVersion"
PATCHES="fs_uae-$portVersion.patchset"

ARCHITECTURES="?x86 !x86_gcc2 x86_64"

PROVIDES="
	fs_uae = $portVersion
	cmd:fs_uae
	cmd:fs_uae_device_helper
	add_on:fs_uae.dat
	"
	
REQUIRES="
        haiku
        mesa_swpipe
        lib:libx11
        lib:libmpeg2
        lib:libpng16
        lib:libsdl2
        lib:libz
        lib:libintl
        lib:libglew
        lib:libgthread_2.0
        lib:libglib_2.0
        lib:libgl
        lib:libglu
        lib:libopenal
        "

BUILD_REQUIRES="
        haiku_devel
        glib2_devel
        devel:libopenal
        devel:libx11
        devel:libmpeg2
        devel:libpng16
        devel:libsdl2
        devel:libglew
        "

BUILD_PREREQUIRES="
	cmd:aclocal
	cmd:autoconf
	cmd:awk
	cmd:bison
	cmd:flex
	cmd:gcc
	cmd:make
	cmd:perl
	cmd:pkg_config
	cmd:zip
	"
	
BUILD()
{
	export CXXFLAGS="-D_BSD_SOURCE"
	export LDFLAGS="-lnetwork"
	runConfigure ./configure --disable-bsdsocket --disable-netplay --with-glew
	make $jobArgs
}

INSTALL()
{
	make install
}
