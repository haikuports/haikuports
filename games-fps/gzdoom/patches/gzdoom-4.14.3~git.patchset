From d04f90b935b4568510e329bb58f57f85175a3649 Mon Sep 17 00:00:00 2001
From: Peppersawce <michaelpeppers89@yahoo.it>
Date: Tue, 1 Apr 2025 18:17:30 +0200
Subject: Define Haiku paths


diff --git a/src/gameconfigfile.cpp b/src/gameconfigfile.cpp
index 3b259e8..d58d63c 100644
--- a/src/gameconfigfile.cpp
+++ b/src/gameconfigfile.cpp
@@ -113,6 +113,15 @@ FGameConfigFile::FGameConfigFile ()
 		SetSection ("IWADSearch.Directories", true);
 		SetValueForKey ("Path", ".", true);
 		SetValueForKey ("Path", "$DOOMWADDIR", true);
+		SetValueForKey ("Path", "$HOME/doom", true);
+		SetValueForKey ("Path", "$HOME/config/non-packaged/data/doom", true);
+		SetValueForKey ("Path", "$HOME/config/non-packaged/data/doomdata", true);
+		SetValueForKey ("Path", "$HOME/config/non-packaged/data/gzdoom", true);
+		SetValueForKey ("Path", "/boot/system/data/gzdoom", true);
+		SetValueForKey ("Path", "/boot/system/data/doomdata", true);
+		SetValueForKey ("Path", "/boot/system/non-packaged/data/doomdata", true);
+		SetValueForKey ("Path", "$HOME/config/data/gzdoom", true);
+		SetValueForKey ("Path", "$HOME/config/data/doomdata", true);
 #ifdef __APPLE__
 		SetValueForKey ("Path", user_docs.GetChars(), true);
 		SetValueForKey ("Path", user_app_support.GetChars(), true);
@@ -141,6 +150,15 @@ FGameConfigFile::FGameConfigFile ()
 	if (!SetSection ("FileSearch.Directories"))
 	{
 		SetSection ("FileSearch.Directories", true);
+		SetValueForKey ("Path", "$HOME/doom", true);
+		SetValueForKey ("Path", "$HOME/config/non-packaged/data/doom", true);
+		SetValueForKey ("Path", "$HOME/config/non-packaged/data/doomdata", true);
+		SetValueForKey ("Path", "$HOME/config/non-packaged/data/gzdoom", true);
+		SetValueForKey ("Path", "/boot/system/data/gzdoom", true);
+		SetValueForKey ("Path", "/boot/system/data/doomdata", true);
+		SetValueForKey ("Path", "/boot/system/non-packaged/data/doomdata", true);
+		SetValueForKey ("Path", "$HOME/config/data/gzdoom", true);
+		SetValueForKey ("Path", "$HOME/config/data/doomdata", true);
 #ifdef __APPLE__
 		SetValueForKey ("Path", user_docs.GetChars(), true);
 		SetValueForKey ("Path", user_app_support.GetChars(), true);
@@ -166,6 +184,10 @@ FGameConfigFile::FGameConfigFile ()
 	if (!SetSection("SoundfontSearch.Directories"))
 	{
 		SetSection("SoundfontSearch.Directories", true);
+		SetValueForKey ("Path", "/boot/system/data/gzdoom/soundfonts", true);
+		SetValueForKey ("Path", "/boot/system/data/gzdoom/fm_banks", true);
+		SetValueForKey ("Path", "$HOME/config/data/gzdoom/soundfonts", true);
+		SetValueForKey ("Path", "$HOME/config/data/gzdoom/fm_banks", true);
 #ifdef __APPLE__
 		SetValueForKey("Path", (user_docs + "/soundfonts").GetChars(), true);
 		SetValueForKey("Path", (user_docs + "/fm_banks").GetChars(), true);
-- 
2.51.0


From 782a0e4b523e94c8211548a29086cf4cff9e1586 Mon Sep 17 00:00:00 2001
From: Peppersawce <michaelpeppers89@yahoo.it>
Date: Wed, 2 Apr 2025 16:31:04 +0200
Subject: Disable Git version string as it is incorrect


diff --git a/src/common/utility/gitinfo.cpp b/src/common/utility/gitinfo.cpp
index 4ef00dc..111c05c 100644
--- a/src/common/utility/gitinfo.cpp
+++ b/src/common/utility/gitinfo.cpp
@@ -54,12 +54,12 @@ const char *GetGitTime()
 
 const char *GetVersionString()
 {
-	if (GetGitDescription()[0] == '\0')
+	//if (GetGitDescription()[0] == '\0')
 	{
 		return VERSIONSTR;
 	}
-	else
+	/*else
 	{
 		return GIT_DESCRIPTION;
-	}
+	}*/
 }
-- 
2.51.0


From 312ba2f7c889703c34d32ae9010abc9b3e8f61cb Mon Sep 17 00:00:00 2001
From: Peppersawce <michaelpeppers89@yahoo.it>
Date: Thu, 23 Oct 2025 15:42:21 +0200
Subject: Fix ZWidget build


diff --git a/libraries/ZWidget/CMakeLists.txt b/libraries/ZWidget/CMakeLists.txt
index bc5f43a..9478112 100644
--- a/libraries/ZWidget/CMakeLists.txt
+++ b/libraries/ZWidget/CMakeLists.txt
@@ -239,6 +239,10 @@ elseif(APPLE)
 	set(ZWIDGET_LIBS ${CMAKE_DL_LIBS} -ldl)
 	set(ZWIDGET_DEFINES -DUNIX -D_UNIX)
 	set(ZWIDGET_LINK_OPTIONS -pthread)
+elseif(HAIKU)
+	set(ZWIDGET_LIBS ${CMAKE_DL_LIBS})
+	set(ZWIDGET_DEFINES -DUNIX -D_UNIX)
+	set(ZWIDGET_LINK_OPTIONS -pthread)
 else()
 	set(ZWIDGET_SOURCES ${ZWIDGET_SOURCES} ${ZWIDGET_X11_SOURCES})
 	set(ZWIDGET_LIBS ${CMAKE_DL_LIBS} -lX11 -lXi)
-- 
2.51.0


From be933083ad40c9e6acf261d6fdda6c8393832f2a Mon Sep 17 00:00:00 2001
From: Peppersawce <michaelpeppers89@yahoo.it>
Date: Wed, 29 Oct 2025 15:07:47 +0100
Subject: Include 32bit fix by Begasus


diff --git a/cmake/FindSDL2.cmake b/cmake/FindSDL2.cmake
index b2399ee..834fb04 100644
--- a/cmake/FindSDL2.cmake
+++ b/cmake/FindSDL2.cmake
@@ -67,7 +67,8 @@ FIND_PATH(SDL2_INCLUDE_DIR SDL2/SDL.h
   /opt/csw # Blastwave
   /opt/homebrew
   /opt
-  /boot/system/develop/headers #Haiku OS
+  /boot/system/develop/headers/SDL2 #Haiku
+  /boot/system/develop/headers/x86/SDL2 #Haiku x86
 )
 #MESSAGE("SDL2_INCLUDE_DIR is ${SDL2_INCLUDE_DIR}")
 
@@ -82,7 +83,8 @@ FIND_LIBRARY(SDL2_LIBRARY_TEMP
   /opt/csw
   /opt/homebrew
   /opt
-  /system/lib #Haiku OS
+  /system/lib #Haiku
+  /system/lib/x86 #Haiku x86
 )
 #MESSAGE("SDL2_LIBRARY_TEMP is ${SDL2_LIBRARY_TEMP}")
 
-- 
2.51.0

