From dddb83f70d9f06474eda28908cccda668ca4ddb9 Mon Sep 17 00:00:00 2001
From: Peppersawce <michaelpeppers89@yahoo.it>
Date: Mon, 24 Mar 2025 12:42:08 +0100
Subject: Fix CMake SDL libraries search, set up config dir


diff --git a/QTfrontend/main.cpp b/QTfrontend/main.cpp
index 517b7a1..91e34df 100644
--- a/QTfrontend/main.cpp
+++ b/QTfrontend/main.cpp
@@ -341,8 +341,8 @@ int main(int argc, char *argv[]) {
             cfgdir->cd(".hedgewars");
         }
 #else
-        checkForDir(cfgdir->absolutePath() + "/.hedgewars");
-        cfgdir->cd(".hedgewars");
+        checkForDir(cfgdir->absolutePath() + "/config/settings/hedgewars");
+        cfgdir->cd("config/settings/hedgewars");
 #endif
     }
 
diff --git a/cmake_modules/FindSDL2_image.cmake b/cmake_modules/FindSDL2_image.cmake
index 2066966..83e3e9c 100644
--- a/cmake_modules/FindSDL2_image.cmake
+++ b/cmake_modules/FindSDL2_image.cmake
@@ -40,7 +40,7 @@ find_path(SDL2_IMAGE_INCLUDE_DIR SDL_image.h
   HINTS
     ENV SDL2IMAGEDIR
     ENV SDL2DIR
-  PATH_SUFFIXES include/SDL2 include
+  PATH_SUFFIXES include/SDL2 include SDL2
 )
 
 if(NOT SDL2_IMAGE_LIBRARY AND SDL2IMAGE_LIBRARY)
diff --git a/cmake_modules/FindSDL2_mixer.cmake b/cmake_modules/FindSDL2_mixer.cmake
index 29e671e..2e2601f 100644
--- a/cmake_modules/FindSDL2_mixer.cmake
+++ b/cmake_modules/FindSDL2_mixer.cmake
@@ -39,7 +39,7 @@ find_path(SDL2_MIXER_INCLUDE_DIR SDL_mixer.h
   HINTS
     ENV SDL2MIXERDIR
     ENV SDL2DIR
-  PATH_SUFFIXES include/SDL2 include
+  PATH_SUFFIXES include/SDL2 include SDL2
 )
 
 if(NOT SDL2_MIXER_LIBRARY AND SDL2MIXER_LIBRARY)
diff --git a/cmake_modules/FindSDL2_net.cmake b/cmake_modules/FindSDL2_net.cmake
index 99c1d1c..2dba6dc 100644
--- a/cmake_modules/FindSDL2_net.cmake
+++ b/cmake_modules/FindSDL2_net.cmake
@@ -40,7 +40,7 @@ find_path(SDL2_NET_INCLUDE_DIR SDL_net.h
   HINTS
     ENV SDL2NETDIR
     ENV SDL2DIR
-  PATH_SUFFIXES include/SDL2 include
+  PATH_SUFFIXES include/SDL2 include SDL2
 )
 
 if(NOT SDL2_NET_LIBRARY AND SDL2NET_LIBRARY)
diff --git a/cmake_modules/FindSDL2_ttf.cmake b/cmake_modules/FindSDL2_ttf.cmake
index 8419166..09c94b3 100644
--- a/cmake_modules/FindSDL2_ttf.cmake
+++ b/cmake_modules/FindSDL2_ttf.cmake
@@ -40,7 +40,7 @@ find_path(SDL2_TTF_INCLUDE_DIR SDL_ttf.h
   HINTS
     ENV SDL2TTFDIR
     ENV SDL2DIR
-  PATH_SUFFIXES include/SDL2 include
+  PATH_SUFFIXES include/SDL2 include SDL2
 )
 
 if(NOT SDL2_TTF_LIBRARY AND SDL2TTF_LIBRARY)
-- 
2.48.1

