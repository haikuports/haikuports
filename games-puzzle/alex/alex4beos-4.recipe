SUMMARY="A small platform game"
DESCRIPTION="Alex the Allegator 4 is a true jump'n'run, just like the old \
classic ones. Guide Alex through the jungle in order to save his girlfriend \
Lola from evil humans who want to make a bag of her."
HOMEPAGE="https://sourceforge.net/projects/allegator/files/Alex4/"
COPYRIGHT="2003 Johan Peitz"
LICENSE="GNU GPL v2"
REVISION="1"
SOURCE_URI="http://downloads.sourceforge.net/project/allegator/Alex4/beos%20source/alex4_beos_src.zip"
CHECKSUM_SHA256="b5333034638c19643a7bd8f6e54033b10b354bbcd4e8771b4ac7cd4a33c9e7cf"
SOURCE_URI_2="https://sourceforge.net/projects/allegator/files/Alex4/source%20and%20data/alex4src_data.zip"
CHECKSUM_SHA256_2="d266d7fba64fbfedf13240d3d0eb21b8bacbedeaa5f22b26a27d472c8d23f103"
SOURCE_DIR="alex4_BeOS_src"
PATCHES="alex4BeOS.patch"

ARCHITECTURES="x86_gcc2 x86 ?x86_64"

PROVIDES="
	alex4 = $portVersion
	app:Alex4 = $portVersion
	"
REQUIRES="
	haiku
	lib:liballeg
	lib:libdumb_0.9.3
	"

BUILD_REQUIRES="
	haiku_devel
	devel:liballeg
	devel:libdumb
	"
BUILD_PREREQUIRES="
	cmd:gcc
	cmd:make
	cmd:patch
	"

BUILD()
{
	mv ../../sources-2/alex4src/* ./
	mv Makefile ./src/Makefile
	patch -p6 -ui alex4_BeOS.diff
	cd ./src
	make $jobArgs
}

INSTALL()
{
	mkdir -p $appsDir/Alex4BeOS
	cp readme.txt $appsDir/Alex4BeOS/
	cp -r data/ $appsDir/Alex4BeOS/
	cp alex4 $appsDir/Alex4BeOS/Alex4

	addAppDeskbarSymlink $appsDir/Alex4BeOS/Alex4 Alex4
}
