From f165b382904c0be1d03f10810f42a8337bc98adc Mon Sep 17 00:00:00 2001
From: Jerome Duval <jerome.duval@gmail.com>
Date: Tue, 5 Aug 2014 16:50:29 +0000
Subject: haiku patch


diff --git a/configure.ac b/configure.ac
index 1d06ca3..25ae69a 100644
--- a/configure.ac
+++ b/configure.ac
@@ -854,6 +854,7 @@ fi
 AC_SEARCH_LIBS(setsockopt, [socket], ,
 	[AC_SEARCH_LIBS(setsockopt, [socket], , , [-lnsl])])
 AC_SEARCH_LIBS(setsockopt, [nsl])
+AC_SEARCH_LIBS(socket, [network])
 
 ##################################
 #### Checks for header files. ####
-- 
2.48.1


From f7bed951366132f8f8674725c9a043093b30a856 Mon Sep 17 00:00:00 2001
From: fbrosson <fbrosson@localhost>
Date: Wed, 17 Jan 2018 22:03:45 +0000
Subject: Do not use __GNUC_PATCHLEVEL__ if it's not defined.


diff --git a/src/gcrypt.h.in b/src/gcrypt.h.in
index 9cad7a4..d9a8ba8 100644
--- a/src/gcrypt.h.in
+++ b/src/gcrypt.h.in
@@ -74,9 +74,14 @@ extern "C" {
    underscore they are subject to change without notice. */
 #ifdef __GNUC__
 
+#ifdef __GNUC_PATCHLEVEL__
 #define _GCRY_GCC_VERSION (__GNUC__ * 10000 \
                              + __GNUC_MINOR__ * 100 \
                              + __GNUC_PATCHLEVEL__)
+#else
+#define _GCRY_GCC_VERSION (__GNUC__ * 10000 \
+                             + __GNUC_MINOR__ * 100)
+#endif
 
 #if _GCRY_GCC_VERSION >= 30100
 #define _GCRY_GCC_ATTR_DEPRECATED __attribute__ ((__deprecated__))
-- 
2.48.1

