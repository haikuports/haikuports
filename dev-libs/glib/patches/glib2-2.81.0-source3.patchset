From 0f49888371ef3d683afca92b08c732f6a49b220f Mon Sep 17 00:00:00 2001
From: begasus <begasus@gmail.com>
Date: Wed, 18 Dec 2019 15:22:46 +0000
Subject: Use objdump -x instead of ldd


diff --git a/giscanner/shlibs.py b/giscanner/shlibs.py
index 9f8ab5d..c2c7987 100644
--- a/giscanner/shlibs.py
+++ b/giscanner/shlibs.py
@@ -101,6 +101,8 @@ def _resolve_non_libtool(options, binary, libraries):
             args.extend([options.ldd_wrapper, binary.args[0]])
         elif platform_system == 'Darwin':
             args.extend(['otool', '-L', binary.args[0]])
+        elif platform_system == 'Haiku':
+            args.extend(['objdump', '-x', binary.args[0]])
         else:
             args.extend(['ldd', binary.args[0]])
         output = subprocess.check_output(args)
-- 
2.51.0


From 6295b5d255d9eaf3dec17b3ddbf0627c7e98939f Mon Sep 17 00:00:00 2001
From: Luc Schrijvers <begasus@gmail.com>
Date: Tue, 14 Oct 2025 16:41:32 +0200
Subject: Set python module path for system python


diff --git a/giscanner/meson.build b/giscanner/meson.build
index ae370ce..ee1d597 100644
--- a/giscanner/meson.build
+++ b/giscanner/meson.build
@@ -29,7 +29,7 @@ giscanner_files = [
 ]
 
 pkglibdir = join_paths(get_option('libdir'), meson.project_name())
-giscannerdir = join_paths(pkglibdir, 'giscanner')
+giscannerdir = join_paths(get_option('python.platlibdir'), 'giscanner')
 
 giscanner_built_files = []
 giscanner_conf_data = configuration_data()
-- 
2.51.0

