SUMMARY="A strictly RFC 3986 compliant URI parsing library in C"
DESCRIPTION="
Uriparser is a strictly RFC 3986 compliant URI parsing library in C."
HOMEPAGE="http://uriparser.sourceforge.net/"
COPYRIGHT="2007 Weijia Song
	2007-2008 Sebastian Pipping"
LICENSE="BSD (3-clause)"
REVISION="1"
SOURCE_URI="http://downloads.sourceforge.net/project/uriparser/Sources/0.7.9/uriparser-0.7.9.tar.bz2"
CHECKSUM_SHA256="a1d8f1007757ca1cf68b49edbac50876100cdee23a54cf1214f257b9ce51100d"

ARCHITECTURES="x86_gcc2 x86 x86_64"

PROVIDES="
	uriparser = $portVersion compat >= 0.7
	lib:liburiparser = 1.0.14 compat >= 1
	"
REQUIRES="
	haiku
	"

PROVIDES_devel="
	devel:uriparser = 1.0.14 compat >= 1
	devel:liburiparser = 1.0.14 compat >= 1
	"
REQUIRES_devel="
	liburiparser == $portVersion base
	"

BUILD_REQUIRES="
	"
BUILD_PREREQUIRES="
	haiku_devel
	cmd:gcc
	cmd:libtool
	cmd:aclocal
	cmd:autoconf
	cmd:automake
	cmd:make
	"

BUILD()
{
	libtoolize --force --copy --install
	aclocal -I m4
	autoconf
	automake --add-missing
	runConfigure ./configure -disable-test --disable-doc
	make $jobArgs
}

INSTALL()
{
	make install

	prepareInstalledDevelLib liburiparser
	fixPkgconfig

	packageEntries devel \
			$developDir
}
