SUMMARY="Simple sequencer with Hippie AI"
DESCRIPTION="A simple MIDI sequencer with a knack for simulating Hippie Drum Circles. \
Tweek the Tweekables and have fun!"
HOMEPAGE="https://github.com/steffenyount/DrumCircle"
COPYRIGHT="2000-2022 Steffen Yount"
LICENSE="Apache v2"
REVISION="3"
SOURCE_URI="https://github.com/steffenyount/DrumCircle/archive/refs/tags/v$portVersion.zip"
CHECKSUM_SHA256="31e0ef5cd7199ccfb4a5bdef056e6debda6330fb756d6720cfd098c4772e0f49"
SOURCE_DIR="DrumCircle-$portVersion"
PATCHES="drumcircle-$portVersion.patchset"

ARCHITECTURES="all !x86_gcc2"
SECONDARY_ARCHITECTURES="x86"

GLOBAL_WRITABLE_FILES="settings/drumcircle directory keep-old"

PROVIDES="
	drumcircle$secondaryArchSuffix = $portVersion
	app:DrumCircle = $portVersion
	"
REQUIRES="
	haiku$secondaryArchSuffix
	timgmsoundfont
	"

BUILD_REQUIRES="
	haiku${secondaryArchSuffix}_devel
	"
BUILD_PREREQUIRES="
	cmd:gcc$secondaryArchSuffix
	cmd:make
	"

BUILD()
{
	make datadir=$dataDir/drumcircle settingsdir=$settingsDir/drumcircle $jobArgs
}

INSTALL()
{
	make install bindir=$appsDir datadir=$dataDir/drumcircle settingsdir=$settingsDir/drumcircle

	addAppDeskbarSymlink $appsDir/DrumCircle
}
