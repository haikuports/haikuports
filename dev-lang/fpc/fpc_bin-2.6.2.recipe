SUMMARY="Pre-built binaries for the FPC build"
DESCRIPTION="Pre-built FPC binaries for Haiku i386."
HOMEPAGE="http://www.freepascal.org"
SOURCE_URI="http://sourceforge.net/projects/freepascal/files/Haiku/2.6.2/fpc-2.6.2.i386-haiku.tar"
CHECKSUM_SHA256="9a8b2b37e37c65a467ae909962972e758442b661ddd5f81486274807ad1bd6d2"
LICENSE="
	GNU LGPL v3
	GNU GPL v3
	"
COPYRIGHT="1993-2013 by Florian Klaempfl"
REVISION="1"

DISABLE_SOURCE_PACKAGE=yes

BUILD_ACTIVATION_PHASE="INSTALL"

ARCHITECTURES="!x86_gcc2 x86 !x86_64"
SECONDARY_ARCHITECTURES="x86"

PROVIDES="
	fpc = $portVersion
	cmd:bin2obj = $portVersion
	cmd:data2inc = $portVersion
	cmd:delp = $portVersion
	cmd:fpc = $portVersion
	cmd:fpclasschart = $portVersion
	cmd:fpcmake = $portVersion
	cmd:fpcmkcfg = $portVersion
	cmd:fpcres = $portVersion
	cmd:fpcsubst = $portVersion
	cmd:fpdoc = $portVersion
	cmd:fppkg = $portVersion
	cmd:fprcp = $portVersion
	cmd:h2pas = $portVersion
	cmd:h2paspp = $portVersion
	cmd:instantfpc = $portVersion
	cmd:makeskel = $portVersion
	cmd:mkarmins = $portVersion
	cmd:mkx86ins = $portVersion
	cmd:plex = $portVersion
	cmd:postw32 = $portVersion
	cmd:ppc386 = $portVersion
	cmd:ppdep = $portVersion
	cmd:ppudump = $portVersion
	cmd:ppufiles = $portVersion
	cmd:ppumove = $portVersion
	cmd:ptop = $portVersion
	cmd:pyacc = $portVersion
	cmd:rmcvsdir = $portVersion
	cmd:rstconv = $portVersion
	cmd:unitdiff = $portVersion
	"
REQUIRES="
	haiku$secondaryArchSuffix
	"
BUILD_REQUIRES="
	haiku${secondaryArchSuffix}_devel
	"
BUILD_PREREQUIRES="
	binutils
	cmd:awk
	cmd:tar
	"

SOURCE_DIR="fpc-2.6.2.i386-haiku"

BUILD()
{
	echo "Please put as prefix: $prefix"
	#give user time to copy prefix
	sleep 5s
	sh ./install.sh
}
INSTALL()
{
	mkdir -p $docDir
	cp -r $prefix/doc $docDir
	rm -rf $prefix/doc
}
