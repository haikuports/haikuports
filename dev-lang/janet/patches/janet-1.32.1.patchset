From c3e9b92075346a0a5bf7184d5b9f26a9807bb004 Mon Sep 17 00:00:00 2001
From: Begasus <begasus@gmail.com>
Date: Sun, 29 Oct 2023 14:43:57 +0100
Subject: Fix path for manpage


diff --git a/Makefile b/Makefile
index abee818..ee7a618 100644
--- a/Makefile
+++ b/Makefile
@@ -27,6 +27,7 @@ PREFIX?=/usr/local
 JANETCONF_HEADER?=src/conf/janetconf.h
 INCLUDEDIR?=$(PREFIX)/include
 BINDIR?=$(PREFIX)/bin
+MANDIR?=$(PREFIX)/share/man
 LIBDIR?=$(PREFIX)/lib
 JANET_BUILD?="\"$(shell git log --pretty=format:'%h' -n 1 2> /dev/null || echo local)\""
 CLIBS=-lm -lpthread
@@ -36,7 +37,7 @@ JANET_IMPORT_LIB=build/janet.lib
 JANET_LIBRARY=build/libjanet.so
 JANET_STATIC_LIBRARY=build/libjanet.a
 JANET_PATH?=$(LIBDIR)/janet
-JANET_MANPATH?=$(PREFIX)/share/man/man1/
+JANET_MANPATH?=$(MANDIR)/man1/
 JANET_PKG_CONFIG_PATH?=$(LIBDIR)/pkgconfig
 JANET_DIST_DIR?=janet-dist
 JANET_BOOT_FLAGS:=. JANET_PATH '$(JANET_PATH)'
-- 
2.42.0


From 539b93975c4ebc15b6ad21c1b3209ea62e8a8be7 Mon Sep 17 00:00:00 2001
From: Begasus <begasus@gmail.com>
Date: Sun, 29 Oct 2023 14:44:29 +0100
Subject: Fix linking error with libnetwork


diff --git a/Makefile b/Makefile
index ee7a618..9813960 100644
--- a/Makefile
+++ b/Makefile
@@ -79,7 +79,9 @@ else ifeq ($(UNAME), Linux)
 endif
 
 # For other unix likes, add flags here!
+# For Haiku
 ifeq ($(UNAME), Haiku)
+	CLIBS:=$(CLIBS) -lnetwork
 	LDCONFIG:=true
 	LDFLAGS=-Wl,--export-dynamic
 endif
-- 
2.42.0

