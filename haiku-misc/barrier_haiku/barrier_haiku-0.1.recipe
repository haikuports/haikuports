SUMMARY="Mouse and Keyboard sharing software"
DESCRIPTION="Barrier brings your computers together in one cohesive experience; its free \
and open source cross-platform software for sharing one mouse and keyboard \
between multiple computers on your desk. It works on Windows, Mac OS, Linux \
and Haiku allowing you to seamlessly move your mouse cursor between computers. \

Credits for:
- Axel Dörfler (ATKeymap)
- Stefano Ceccherini (wrapper)
- Jérôme Duval (Keymap)
- Alex Evans (uSynergy)
- Jessica Hamilton (wrapper)
- Ed Robbins (wrapper)

Usage: Create a configuration file at ~/config/settings/barrier with:
	enable = true
	server = 192.168.1.X (ip of your server)
	enableClipboard = false (false recommended)

For more info and options in config file visit: https://github.com/unarix/barrier_haiku
"
HOMEPAGE="https://github.com/debauchee/barrier"
COPYRIGHT="2004-2006 Jérôme Duval
	2005-2010 Axel Dörfler
	2004-2012 Haiku, Inc
	2014 Ed Robbins
	2014 Jessica Hamilton
	2015-2016 Alexander von Gluck IV
	2012 Alex Evans
	2020 Nahuel Tello"
LICENSE="MIT
	Zlib"
REVISION="1"
SOURCE_URI="https://github.com/unarix/barrier_haiku/archive/$portVersion.tar.gz"
CHECKSUM_SHA256="7362f524d39a2ca16fce76ea97d3a3e524b7d6ceefd62b877820709ff0b7b192"
SOURCE_FILENAME="barrier_haiku-$portVersion.tar.gz"
SOURCE_DIR="barrier_haiku-$portVersion"

ARCHITECTURES="?x86_gcc2 ?x86 x86_64"
SECONDARY_ARCHITECTURES="?x86_gcc2 x86"

USER_SETTINGS_FILES="settings/barrier"

PROVIDES="
	barrier_haiku$secondaryArchSuffix = $portVersion
	add_on:barrier_haiku = $portVersion
	"
REQUIRES="
	haiku$secondaryArchSuffix
	"

BUILD_REQUIRES="
	haiku${secondaryArchSuffix}_devel
	makefile_engine
	"
BUILD_PREREQUIRES="
	cmd:gcc$secondaryArchSuffix
	cmd:make
	"

BUILD()
{
	make OBJ_DIR=objects $jobArgs
}

INSTALL()
{
	BarrierDir=$addOnsDir/input_server/devices
	mkdir -p $BarrierDir
	cp -a objects/barrier_client $BarrierDir
}
