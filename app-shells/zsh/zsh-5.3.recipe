SUMMARY="A UNIX command interpreter (shell)"
DESCRIPTION="Zsh is a shell designed for interactive use, although it \
is also a powerful scripting language. Many of the useful features of \
bash, ksh, and tcsh were incorporated into zsh; many original features \
were added."
HOMEPAGE="http://zsh.sourceforge.net"
COPYRIGHT="1992-2017 Paul Falstad, Richard Coleman, Zoltán Hidvégi, \
Andrew Main, Peter Stephenson, Sven Wishnowsky, and others"
LICENSE="ZSH"
REVISION="1"
SOURCE_URI="http://sourceforge.net/projects/zsh/files/zsh/$portVersion/zsh-$portVersion.tar.xz"
CHECKSUM_SHA256="76f82cfd5ce373cf799a03b6f395283f128430db49202e3e3f512fb5a19d6f8a"
#PATCHES="zsh-$portVersion.patchset"

ARCHITECTURES="x86_gcc2 x86 x86_64"
SECONDARY_ARCHITECTURES="x86"

PROVIDES="
	zsh$secondaryArchSuffix = $portVersion compat >= 5
	cmd:zsh$secondaryArchSuffix = $portVersion compat >= 5
	cmd:zsh_$portVersion$secondaryArchSuffix = $portVersion compat >= 5
	cmd:sh$secondaryArchSuffix
	"
REQUIRES="
	haiku$secondaryArchSuffix
	lib:libncursesw$secondaryArchSuffix
	lib:libpcre$secondaryArchSuffix
	lib:libiconv$secondaryArchSuffix
	"

BUILD_REQUIRES="
	haiku${secondaryArchSuffix}_devel
	devel:libncursesw$secondaryArchSuffix
	devel:libpcre$secondaryArchSuffix
	devel:libiconv$secondaryArchSuffix
	"
BUILD_PREREQUIRES="
	cmd:autoconf
	cmd:awk
	cmd:find
	cmd:gcc$secondaryArchSuffix
	cmd:grep
	cmd:libtoolize$secondaryArchSuffix
	cmd:ld$secondaryArchSuffix
	cmd:make
	cmd:sed
	"

BUILD()
{
#	autoreconf -fi
#	libtoolize -vfi
#
#	export LDFLAGS="-lnetwork -lbsd"
#	export CFLAGS="-D_BSD_SOURCE"
#
#	runConfigure ./configure \
#		--enable-multibyte \
#		--enable-zshrc=`finddir B_USER_SETTINGS_DIRECTORY`/zsh/zshrc \
#		--sysconfdir=`finddir B_USER_SETTINGS_DIRECTORY`/zsh \
#		--enable-etcdir=`finddir B_USER_SETTINGS_DIRECTORY`/zsh
	make $jobArgs
}

INSTALL()
{
	make install
	ln -s zsh $binDir/sh
}

TEST()
{
	make check
}
