From e3f44d1b10bb9099b1df2a47efd53c72e9ffe463 Mon Sep 17 00:00:00 2001
From: Jerome Duval <jerome.duval@gmail.com>
Date: Tue, 23 Dec 2025 11:58:37 +0100
Subject: Haiku patch for gcc


diff --git a/src/openrct2/core/Range.hpp b/src/openrct2/core/Range.hpp
index 6e15dd6..7a1ac3d 100644
--- a/src/openrct2/core/Range.hpp
+++ b/src/openrct2/core/Range.hpp
@@ -29,6 +29,10 @@ struct Range
         T Change{};
 
     private:
+    #if defined(__GNUC__) && !defined(__clang__)
+        #pragma GCC diagnostic push
+        #pragma GCC diagnostic ignored "-Wmaybe-uninitialized"
+    #endif
         Iterator(const Range& range, T initialValue)
             : Lower(range.Lower)
             , Upper(range.Upper)
@@ -36,6 +40,9 @@ struct Range
             , Change(range.Upper >= range.Lower ? 1 : -1)
         {
         }
+    #if defined(__GNUC__) && !defined(__clang__)
+        #pragma GCC diagnostic pop
+    #endif
 
     public:
         Iterator& operator++()
-- 
2.52.0


From e24b67062f3938df68128668b5d68c0ca52baaad Mon Sep 17 00:00:00 2001
From: Peppersawce <michaelpeppers89@yahoo.it>
Date: Sun, 1 Feb 2026 20:58:59 +0100
Subject: Fix Haiku build


diff --git a/src/openrct2/core/String.cpp b/src/openrct2/core/String.cpp
index d68e1e7..a7983d8 100644
--- a/src/openrct2/core/String.cpp
+++ b/src/openrct2/core/String.cpp
@@ -38,7 +38,7 @@
 #include "StringBuilder.h"
 #include "UTF8.h"
 
-#if defined(__unix__) || (defined(__APPLE__) && defined(__MACH__))
+#if defined(__unix__) || defined(__HAIKU__) || (defined(__APPLE__) && defined(__MACH__))
     #include <strings.h>
     #define _stricmp(x, y) strcasecmp((x), (y))
 #endif
-- 
2.52.0


From 75d1e70caf67db4fec9447940a5e2a8a36594042 Mon Sep 17 00:00:00 2001
From: Peppersawce <michaelpeppers89@yahoo.it>
Date: Sun, 1 Feb 2026 21:22:08 +0100
Subject: Re-enable multithreading


diff --git a/src/openrct2/config/Config.cpp b/src/openrct2/config/Config.cpp
index e06df18..bc9345c 100644
--- a/src/openrct2/config/Config.cpp
+++ b/src/openrct2/config/Config.cpp
@@ -50,11 +50,6 @@ static constexpr bool kEnlargedUiDefault = true;
 #else
 static constexpr bool kEnlargedUiDefault = false;
 #endif
-#ifdef __HAIKU__ // Multi-threading is unstable here
-static constexpr bool kMultiThreadingDefault = false;
-#else
-static constexpr bool kMultiThreadingDefault = true;
-#endif
 
 namespace OpenRCT2::Config
 {
@@ -243,7 +238,7 @@ namespace OpenRCT2::Config
             // Always have multi-threading disabled in debug builds, this makes things slower.
             model->multiThreading = false;
 #else
-            model->multiThreading = reader->GetBoolean("multithreading", kMultiThreadingDefault);
+            model->multiThreading = reader->GetBoolean("multithreading", true);
 #endif // _DEBUG
             model->trapCursor = reader->GetBoolean("trap_cursor", false);
             model->autoOpenShops = reader->GetBoolean("auto_open_shops", false);
-- 
2.52.0

