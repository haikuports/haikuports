SUMMARY="A 2D platform adventure game for TUX"
DESCRIPTION="Mole Invasion is a 2D platform adventure game for TUX, \
getting to kill the evil moles from the different scenarios."
HOMEPAGE="http://moleinvasion.tuxfamily.org/"
COPYRIGHT="Guinns(coding), Skeespin(gfx), Bohwaz(music)"
LICENSE="GNU GPL v2"
REVISION="1"
SOURCE_URI="ftp://download.tuxfamily.org/minvasion/packages/MoleInvasion-0.4.tar.bz2"
CHECKSUM_SHA256="a011361f07c06d79a5ba6d110d7b06b59da2c57970515d24fab063fe991d922c"
PATCHES="moleinvasion-0.4.patch"

ARCHITECTURES="x86_gcc2 x86_64"

PROVIDES="
	moleinvasion = $portVersion
	app:MoleInvasion = $portVersion
	cmd:moleinvasion_editlevel = $portVersion
	cmd:moleinvasion_editworld = $portVersion
	"
REQUIRES="
	haiku
	lib:libgl
	lib:libsdl
	lib:libsdl_image
	lib:libsdl_mixer
	lib:libsdl_ttf
	lib:libsmpeg
	"

BUILD_REQUIRES="
	haiku_devel
	devel:libsdl
	devel:libsdl_image
	devel:libsdl_mixer
	devel:libsdl_ttf
	devel:libsmpeg
	"
BUILD_PREREQUIRES="
	cmd:find
	cmd:gcc
	cmd:make
	"

BUILD()
{
	cd src
	make DESTDIR=$appsDir/MoleInvasion FINALEXEDIR=$appsDir/MoleInvasion \
		FINALDATADIR=$appsDir/MoleInvasion
}

INSTALL()
{
	cd src
	make install DESTDIR=$appsDir/MoleInvasion
	make install-data DESTDIR=$appsDir/MoleInvasion
	mv $appsDir/MoleInvasion/moleinvasion $appsDir/MoleInvasion/MoleInvasion
	addAppDeskbarSymlink $appsDir/MoleInvasion/MoleInvasion
}
