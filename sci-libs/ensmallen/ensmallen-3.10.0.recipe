SUMMARY="Flexible C++ library for efficient numerical optimization"
DESCRIPTION="* ensmallen is a high-quality C++ library for non-linear numerical optimization
* provides many types of optimizers that can be used for virtually any numerical optimization task
* examples of included optimizers: L-BFGS, SGD, CMAES and Simulated Annealing
* allows optional callbacks to customize the optimization process"
HOMEPAGE="https://ensmallen.org/"
COPYRIGHT="2008-2023, Ryan Curtin
	2008-2012, Dongryeol Lee
	2010-2012, James Cline
	2013-2023, Marcus Edel
	2013-2018, Sumedh Ghaisas
	2013, Mudit Raj Gupta
	2014, Ryan Birmingham
	2014, Siddharth Agrawal
	2014-2015, Stephen Tu
	2015&2017, Shangtong Zhang
	2016, Shikhar Bhardwaj
	2016, Mike Izbicki
	2016, Ranjan Mondal
	2017, Vivek Pal
	2017-2018, Sourabh Varshney
	2017, Chenzhe Diao
	2017, Abhinav Moudgil
	2017, Konstantin Sidorov
	2017, Kirill Mishchenko
	2017&2019, N Rajiv Vaidyanathan
	2017, Kartik Nighania
	2017-2018, Manish Kumar
	2017-2018, Haritha Sreedharan Nair
	2018, B Kartheek Reddy
	2018, Moksh Jain
	2018, Shikhar Jaiswa
	2018-2023, Conrad Sanderson
	2018, Dan Timson
	2019, Rahul Ganesh Prabhu
	2019, Roberto Hueso
	2019, Sayan Goswami
	2020, Joe Dinius"
LICENSE="BSD (3-clause)"
REVISION="1"
SOURCE_URI="https://ensmallen.org/files/ensmallen-$portVersion.tar.gz"
CHECKSUM_SHA256="248e2036856f7aa8fab34ca02fa3a79b2c9af20f53b1d26e3de939d150dcbb3a"
PATCHES="ensmallen-$portVersion.patchset"

ARCHITECTURES="all !x86_gcc2"
SECONDARY_ARCHITECTURES="?x86"

PROVIDES="
	ensmallen$secondaryArchSuffix = $portVersion
	devel:ensmallen$secondaryArchSuffix = $portVersion
	"
REQUIRES="
	haiku$secondaryArchSuffix
	"


BUILD_REQUIRES="
	haiku${secondaryArchSuffix}_devel
	devel:libarmadillo$secondaryArchSuffix
	"
BUILD_PREREQUIRES="
	cmd:cmake
	cmd:gcc$secondaryArchSuffix
	cmd:make
	"

BUILD()
{
	cmake -B build -S . -DCMAKE_BUILD_TYPE=Release \
		$cmakeDirArgs

	make -C build $jobArgs
}

INSTALL()
{
	make -C build install
}

TEST()
{
	make -C build test
}
