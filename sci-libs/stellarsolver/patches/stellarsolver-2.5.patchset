From ca7b3b86f7814e52bbb843c1dbc4001e21944c47 Mon Sep 17 00:00:00 2001
From: Schrijvers Luc <begasus@gmail.com>
Date: Sat, 6 Apr 2024 11:53:49 +0200
Subject: Build fix


diff --git a/stellarsolver/stellarsolver.cpp b/stellarsolver/stellarsolver.cpp
index 30d931d..8e6944f 100644
--- a/stellarsolver/stellarsolver.cpp
+++ b/stellarsolver/stellarsolver.cpp
@@ -997,7 +997,7 @@ bool StellarSolver::getAvailableRAM(double &availableRAM, double &totalRAM)
     //Until I can figure out how to get free RAM on Mac
     availableRAM = RAMcheck;
     totalRAM = RAMcheck;
-#elif defined(Q_OS_LINUX)
+#elif defined(Q_OS_LINUX) || defined(Q_OS_HAIKU)
     QProcess p;
     p.start("awk", QStringList() << "/MemFree/ { print $2 }" << "/proc/meminfo");
     p.waitForFinished();
-- 
2.43.2


From 226ec0fcac308bd9579ccc7ffcf7e0f4e21d9811 Mon Sep 17 00:00:00 2001
From: Schrijvers Luc <begasus@gmail.com>
Date: Sat, 6 Apr 2024 12:05:50 +0200
Subject: Set correct path


diff --git a/CMakeLists.txt b/CMakeLists.txt
index ce09934..70a9283 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -278,10 +278,10 @@ endif (MSVC)
 install(TARGETS stellarsolver
     EXPORT ${TARGET_EXPORT_NAME}
     DESTINATION ${CMAKE_INSTALL_LIBDIR}
-    PUBLIC_HEADER DESTINATION include/libstellarsolver
+    PUBLIC_HEADER DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}/libstellarsolver
     )
 
-set(INCLUDE_INSTALL_DIR "${CMAKE_INSTALL_PREFIX}/include/libstellarsolver")
+set(INCLUDE_INSTALL_DIR "${CMAKE_INSTALL_INCLUDEDIR}/libstellarsolver")
 set(PKG_CONFIG_LIBDIR ${CMAKE_INSTALL_PREFIX}/${CMAKE_INSTALL_LIBDIR})
 set(PKGCONFIG_INSTALL_PREFIX "${CMAKE_INSTALL_LIBDIR}/pkgconfig")
 
@@ -557,7 +557,7 @@ export(TARGETS stellarsolver
 # 3. Configure the Include Directories
 target_include_directories(stellarsolver PUBLIC
     $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}>
-    $<INSTALL_INTERFACE:${CMAKE_INSTALL_PREFIX}/include/libstellarsolver>)
+    $<INSTALL_INTERFACE:${CMAKE_INSTALL_INCLUDEDIR}/libstellarsolver>)
 
 # 4. Install StellarSolver Config
 install(EXPORT ${TARGET_EXPORT_NAME}
-- 
2.43.2


From aedea68c153cd369828bd3a8304cffefb49dd660 Mon Sep 17 00:00:00 2001
From: Schrijvers Luc <begasus@gmail.com>
Date: Sat, 6 Apr 2024 13:05:08 +0200
Subject: Fix linking with libnetwork and libgnu


diff --git a/CMakeLists.txt b/CMakeLists.txt
index 70a9283..c779871 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -250,6 +250,10 @@ target_link_libraries(stellarsolver
     Qt5::Concurrent
     )
 
+if(HAIKU)
+    target_link_libraries(stellarsolver network gnu)
+endif(HAIKU)
+
 if(WIN32)
     target_link_libraries(stellarsolver wsock32 ${Boost_LIBRARIES})
 else(WIN32)
-- 
2.43.2

