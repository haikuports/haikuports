SUMMARY="Pascal wrapper for Qt6"
DESCRIPTION="libqt5pas is an interface between Lazarus and the Qt6 libraries.
Not all Qt6 functions are available, only those necessary for Lazarus \
functionality."
HOMEPAGE="https://wiki.freepascal.org/Qt6_Interface"
COPYRIGHT="2005-2013 Jan Van Hijfte
	2022 Å½eljan Rikalo"
LICENSE="GNU LGPL v3"
REVISION="1"
SOURCE_URI="https://github.com/davidbannon/libqt6pas/archive/refs/tags/v$portVersion.tar.gz"
CHECKSUM_SHA256="4cf8d79628f0f48a9bbcbb2d80b627c38a3673e1ed1767663861bb76f7f9f0e3"
SOURCE_DIR="libqt6pas-$portVersion/cbindings"

ARCHITECTURES="all !x86_gcc2"
SECONDARY_ARCHITECTURES="x86"

libVersion="$portVersion"
libVersionCompat="$libVersion compat >= ${libVersion%%.*}"

PROVIDES="
	libqt6pas$secondaryArchSuffix = $portVersion
	lib:libQt6Pas$secondaryArchSuffix = $libVersionCompat
	"
REQUIRES="
	haiku$secondaryArchSuffix
	lib:libGL$secondaryArchSuffix
	lib:libqt6Core$secondaryArchSuffix
	lib:libqt6Gui$secondaryArchSuffix
	lib:libqt6Network$secondaryArchSuffix
	lib:libqt6PrintSupport$secondaryArchSuffix
	lib:libqt6Widgets$secondaryArchSuffix
	"

BUILD_REQUIRES="
	haiku${secondaryArchSuffix}_devel
	devel:libqt6Core$secondaryArchSuffix
	devel:libqt6Gui$secondaryArchSuffix
	devel:libqt6Network$secondaryArchSuffix
	devel:libqt6PrintSupport$secondaryArchSuffix
	devel:libqt6Widgets$secondaryArchSuffix
	"
BUILD_PREREQUIRES="
	cmd:make
	cmd:gcc$secondaryArchSuffix
	cmd:ld$secondaryArchSuffix
	cmd:qmake6$secondaryArchSuffix
	"

BUILD()
{
	qmake6 INSTALL_ROOT=$libDir
	make $jobArgs
}

INSTALL()
{
	make INSTALL_ROOT=$libDir install
}
