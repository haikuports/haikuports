SUMMARY="A barcode api"
DESCRIPTION="prison is a Qt-based barcode abstraction layer/library that \
provides uniform access to generation of barcodes with data. The API supports \
two types of barcodes: QRCode and DataMatrix."
HOMEPAGE="https://api.kde.org/frameworks/prison/html/index.html"
COPYRIGHT="2010-2017 KDE Foundations"
LICENSE="GNU LGPL v3"
REVISION="1"
SOURCE_URI="https://download.kde.org/stable/frameworks/5.38/prison-5.41.0.tar.xz"
CHECKSUM_SHA256="95bc65c9164b8ed8cace08be7dfdf12cc9a398a42e2b4c66852faaa1cd1f325f"

ARCHITECTURES="x86 x86_64"
SECONDARY_ARCHITECTURES="x86 x86_64"

PROVIDES="
	prison$secondaryArchSuffix = $portVersion
	lib:libkf5Prison$secondaryArchSuffix = $portVersion compat >= 5
	"
REQUIRES="
	haiku$secondaryArchSuffix
	lib:libdmtx$secondaryArchSuffix
	lib:libqrencode$secondaryArchSuffix
	lib:libqt5$secondaryArchSuffix
	"

BUILD_REQUIRES="
	haiku${secondaryArchSuffix}_devel
	devel:libdmtx$secondaryArchSuffix
	devel:libqrencode$secondaryArchSuffix
	devel:libqt5$secondaryArchSuffix
	devel:libextra_cmake_modules$secondaryArchSuffix
	"
BUILD_PREREQUIRES="
	cmd:cmake
	cmd:gcc$secondaryArchSuffix
	cmd:make
	"

BUILD()
{
	cmake . \
	-DCMAKE_INSTALL_PREFIX:PATH=$libDir/cmake/ \
	-DECM_DIR=$dataDir/cmake/Modules/ECM/cmake
	make
}

INSTALL()
{
	make install
}
