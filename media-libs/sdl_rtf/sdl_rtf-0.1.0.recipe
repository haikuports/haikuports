SUMMARY="Rich Text Format decoding add-on for SDL"
DESCRIPTION="This is a sample library which allows you to display Rich Text Format (RTF) \
documents in your SDL applications. It comes with an example program \
"showrtf" which displays an RTF file using an SDL_ttf font engine."
HOMEPAGE="http://www.libsdl.org/projects/SDL_rtf"
COPYRIGHT="2003-2009 Sam Lantinga"
LICENSE="GNU LGPL v2"
REVISION="2"
SOURCE_URI="http://www.libsdl.org/projects/SDL_rtf/release/SDL_rtf-0.1.0.tar.gz"
CHECKSUM_SHA256="3dc0274b666e28010908ced24844ca7d279e07b66f673c990d530d4ea94b757e"
SOURCE_DIR="SDL_rtf-$portVersion"

ARCHITECTURES="x86_gcc2 x86_64"
SECONDARY_ARCHITECTURES="x86"

PROVIDES="
	sdl_rtf$secondaryArchSuffix = $portVersion
	"
REQUIRES="
	haiku$secondaryArchSuffix
	sdl_ttf$secondaryArchSuffix
	"

PROVIDES_devel="
	sdl_rtf${secondaryArchSuffix}_devel = $portVersion
	"
REQUIRES_devel="
	sdl_rtf$secondaryArchSuffix == $portVersion
	"

BUILD_REQUIRES="
	haiku${secondaryArchSuffix}_devel
	devel:libfreetype$secondaryArchSuffix
	devel:libSDL2$secondaryArchSuffix
	devel:libz$secondaryArchSuffix
	devel:libGL$secondaryArchSuffix
	devel:libglu$secondaryArchSuffix
	"
BUILD_PREREQUIRES="
	cmd:libtoolize$secondaryArchSuffix
	cmd:aclocal_1.13
	cmd:automake_1.13
	cmd:autoconf
	cmd:gcc$secondaryArchSuffix
	cmd:ld$secondaryArchSuffix
	cmd:make
	cmd:pkg_config$secondaryArchSuffix
	"

BUILD()
{
	rm aclocal.m4
	rm acinclude.m4
	mkdir -p m4
	echo "AC_CONFIG_MACRO_DIR([m4]) >> configure.in"
	libtoolize --copy --force --install
	aclocal --install -I m4
	./autogen.sh
	MANDIR=`finddir B_COMMON_DOCUMENTATION_DIRECTORY`/man
	LIBDIR=`finddir B_COMMON_LIB_DIRECTORY`
	./configure --prefix=`finddir B_COMMON_DIRECTORY` \
		--libdir=$LIBDIR \
		--mandir=$MANDIR
	make
}

INSTALL()
{
	make install
}
