From 7c90a174ebdefa857591ebcbbd655130c7e1f88d Mon Sep 17 00:00:00 2001
From: begasus <begasus@gmail.com>
Date: Thu, 30 May 2019 19:47:09 +0200
Subject: gcc2/test fix


diff --git a/src/fccfg.c b/src/fccfg.c
index d7c48e8..a6cda2e 100644
--- a/src/fccfg.c
+++ b/src/fccfg.c
@@ -2232,6 +2232,8 @@ FcConfigRealFilename (FcConfig		*config,
     if (n)
     {
 	FcChar8 buf[PATH_MAX];
+    FcChar8 *dirname;
+    FcChar8 *path;
 	ssize_t len;
 
 	if (sysroot)
@@ -2246,12 +2248,12 @@ FcConfigRealFilename (FcConfig		*config,
 
 	    if (!FcStrIsAbsoluteFilename (buf))
 	    {
-		FcChar8 *dirname = FcStrDirname (nn);
+		dirname = FcStrDirname (nn);
 		FcStrFree (nn);
 		if (!dirname)
 		    return NULL;
 
-		FcChar8 *path = FcStrBuildFilename (dirname, buf, NULL);
+		path = FcStrBuildFilename (dirname, buf, NULL);
 		FcStrFree (dirname);
 		if (!path)
 		    return NULL;
-- 
2.21.0

