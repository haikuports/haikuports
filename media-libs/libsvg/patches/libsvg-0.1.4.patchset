From ee09a6129ab75e3637d6a9fff46b8f8c16af2866 Mon Sep 17 00:00:00 2001
From: begasus <begasus@gmail.com>
Date: Sat, 4 Mar 2017 10:41:48 +0000
Subject: patch for autotools


diff --git a/Makefile.am b/Makefile.am
old mode 100755
new mode 100644
index f1b1827..1c5af7a
--- a/Makefile.am
+++ b/Makefile.am
@@ -56,4 +56,5 @@ release-publish: release-verify-newer release-check
 	@echo ""
 	@echo "Also, please include the new entries from the NEWS file."
 
+ACLOCAL_AMFLAGS = -I m4
 
diff --git a/configure.in b/configure.in
old mode 100755
new mode 100644
index a9f871e..c9a9de7
--- a/configure.in
+++ b/configure.in
@@ -6,6 +6,9 @@ dnl ===========================================================================
 LIBSVG_VERSION=0.1.4
 
 # libtool shared library version
+m4_pattern_allow([LT_CURRENT])
+m4_pattern_allow([LT_REVISION])
+m4_pattern_allow([LT_AGE])
 
 # Increment if the interface has additions, changes, removals.
 LT_CURRENT=1
@@ -80,3 +83,4 @@ src/svg_version.h
 Makefile
 src/Makefile
 ])
+AC_CONFIG_MACRO_DIR([m4])
-- 
2.7.0


From e34e4cd85a015d331589a70fb350d33c9a5d5e20 Mon Sep 17 00:00:00 2001
From: begasus <begasus@gmail.com>
Date: Sat, 11 Mar 2017 10:21:32 +0000
Subject: fix undefined symbol for png_set_expand_gray*


diff --git a/src/svg_image.c b/src/svg_image.c
index cd8a95a..f256943 100755
--- a/src/svg_image.c
+++ b/src/svg_image.c
@@ -271,7 +271,7 @@ _svg_image_read_png (const char		*filename,
 
     /* expand gray bit depth if needed */
     if (color_type == PNG_COLOR_TYPE_GRAY && depth < 8)
-	png_set_gray_1_2_4_to_8 (png);
+	png_set_expand_gray_1_2_4_to_8 (png);
 
     /* transform transparency to alpha */
     if (png_get_valid(png, info, PNG_INFO_tRNS))
-- 
2.7.0

