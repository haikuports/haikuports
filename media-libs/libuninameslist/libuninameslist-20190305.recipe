SUMMARY="A Library of Unicode names and annotation data"
DESCRIPTION="This program is updated for Nameslist.txt ver11.0 and \
ListeDesNoms.txt ver10.0.

Nameslist.txt
The Unicode consortium provides a file containing annotations on many unicode
characters. (http://www.unicode.org/Public/UNIDATA/NamesList.html) This library
contains a compiled version of this file so that programs can access this data
quickly and easily.

ListeDesNoms.txt
Is a seperate file which is translated from Nameslist.txt and was outdated for
a period of time but was recently updated by a group of developers who have
updated it up to version 10. Contributors to that file are listed in that file.

These libraries contain very large (sparse) arrays with one entry for each
unicode code point (U+0000â€“U+10FFFF). Each entry contains two strings, a name
and an annotation. Either or both may be NULL. Both libraries also contain a
(much smaller) list of all the Unicode blocks."
HOMEPAGE="https://github.com/fontforge/libuninameslist/"
COPYRIGHT="2003 by George Williams"
LICENSE="MIT
	GNU GPL v2"
REVISION="1"
SOURCE_URI="$HOMEPAGE/archive/$portVersion.tar.gz"
CHECKSUM_SHA256="11280fba27a461c78a8e09e17c580e12667f9b2d6f1457a2126cba8c8dcdbbe5"

ARCHITECTURES="!x86_gcc2 ?x86 ?x86_64"
SECONDARY_ARCHITECTURES="x86"

libVersion="1.0.4"
libVersionCompat="$libVersion compat >= ${libVersion%%.*}"

PROVIDES="
	libuninameslist$secondaryArchSuffix = $portVersion
	lib:libuninameslist$secondaryArchSuffix = $libVersionCompat
	"
REQUIRES="
	haiku$secondaryArchSuffix
	"

PROVIDES_devel="
	libuninameslist${secondaryArchSuffix}_devel = $portVersion
	devel:libuninameslist$secondaryArchSuffix = $libVersionCompat
	"
REQUIRES_devel="
	libuninameslist$secondaryArchSuffix == $portVersion base
	"

BUILD_REQUIRES="
	haiku${secondaryArchSuffix}_devel
	"
BUILD_PREREQUIRES="
	cmd:aclocal
	cmd:autoconf
	cmd:automake
	cmd:awk
	cmd:make
	cmd:gcc$secondaryArchSuffix
	cmd:libtoolize$secondaryArchSuffix
	"

defineDebugInfoPackage libuninameslist$secondaryArchSuffix \
	$libDir/libuninameslist.so.$libVersion

BUILD()
{
	autoreconf -vfi
	runConfigure ./configure
}

INSTALL()
{
	make install

	# remove libtool file
	rm $libDir/*.la

	prepareInstalledDevelLib libuninameslist
	fixPkgconfig

	packageEntries devel \
		$developDir \
		$manDir
}

TEST()
{
	make check
}
