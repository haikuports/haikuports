SUMMARY="GNOME default icon theme (legacy)"
DESCRIPTION="A fullcolor icon theme providing fallback for legacy apps."
HOMEPAGE="https://gitlab.gnome.org/GNOME/adwaita-icon-theme-legacy"
COPYRIGHT="Ulisse Perusin
	Riccardo Buzzotta
	Josef Vybíral
	Hylke Bons
	Ricardo González
	Lapo Calamandrei
	Rodney Dawes
	Luca Ferretti
	Tuomas Kuosmanen
	Andreas Nilsson
	Jakub Steiner
	Sam Hewitt"
LICENSE="GNU LGPL v3"
REVISION="1"
#SOURCE_URI="https://gitlab.gnome.org/GNOME/adwaita-icon-theme-legacy/-/archive/$portVersion/adwaita-icon-theme-legacy-$portVersion.tar.bz2"
#CHECKSUM_SHA256="2b30b08a3b534e1db40c2342c08a27bc589c737050ca969ba0456f876b4679ab"
#SOURCE_DIR="adwaita-icon-theme-legacy-$portVersion"
# https://gitlab.gnome.org/GNOME/adwaita-icon-theme-legacy/-/merge_requests/2
srcGitRev="2b2eb1bbf215e73f3e6f1be79ee679b17dc43eb3"
SOURCE_URI="https://gitlab.gnome.org/City-busz/adwaita-icon-theme-legacy/-/archive/$srcGitRev.tar.gz"
CHECKSUM_SHA256="2dca774925ce937e5905c92946cbc47f7b8f0b0d5a4988ac40310547bd3610f3"
SOURCE_DIR="adwaita-icon-theme-legacy-$srcGitRev"
# https://gitlab.gnome.org/GNOME/adwaita-icon-theme-legacy/-/merge_requests/1
PATCHES="1.patch"

ARCHITECTURES="any"

PROVIDES="
	adwaita_icon_theme_legacy = $portVersion
	"
REQUIRES="
	haiku
	"

BUILD_REQUIRES="
	haiku_devel
	"
BUILD_PREREQUIRES="
	cmd:gtk_update_icon_cache
	cmd:meson
	cmd:ninja
	cmd:pkg_config
	"

BUILD()
{
	meson Build \
		--buildtype=release \
		--prefix="$prefix" \
		--libdir="$libDir" \
		--includedir="$includeDir" \
		--bindir="$commandBinDir" \
		--libexecdir="$commandBinDir" \
		--datadir="$dataDir" \
		--localedir="$dataDir/locale" \
		--sysconfdir="$settingsDir"

	ninja -C Build
}

INSTALL()
{
	ninja install -C Build
}
