SUMMARY="A lightweight XMPP client"
DESCRIPTION="Dengon is an XMPP client, allowing to use instant messaging \
networks such as Jabber, Google Talk, or Facebook Chat. It supports \
multi-use rchat, Psi bookmarks, in-band registration and other features."
HOMEPAGE="https://github.com/diger/dengon/"
COPYRIGHT="2010-2014 Maxim Sokhatsky"
LICENSE="MIT"
REVISION="2"
srcGitRev="aa5c1ecda7b2f087434df28f3b99cc4aaf6e199d"
SOURCE_URI="https://github.com/diger/dengon/archive/$srcGitRev.tar.gz"
CHECKSUM_SHA256="6d9ce10c535b186d713b03d63ea7af74a2e6ec31ee4b716688b5b8349f788bb2"
SOURCE_FILENAME="dengon-$portVersion.tar.gz"
SOURCE_DIR="dengon-$srcGitRev"
PATCHES="dengon-$portVersion.patchset"

ARCHITECTURES="x86_gcc2 x86 x86_64"

PROVIDES="
	dengon = $portVersion
	app:Chat = $portVersion
	"
REQUIRES="
	haiku$secondaryArchSuffix
	lib:libexpat$secondaryArchSuffix
	lib:libssl$secondaryArchSuffix
	"

BUILD_REQUIRES="
	haiku${secondaryArchSuffix}_devel
	devel:libexpat$secondaryArchSuffix
	devel:libssl$secondaryArchSuffix
	"
BUILD_PREREQUIRES="
	makefile_engine
	cmd:gcc$secondaryArchSuffix
	cmd:make
	cmd:which
	"

BUILD()
{
	BUILDHOME=`finddir B_SYSTEM_DEVELOP_DIRECTORY` make
}

INSTALL()
{
	mkdir -p $appsDir
	cp objects.*-release/Chat $appsDir/Chat
	addAppDeskbarSymlink $appsDir/Chat "Chat"
}
