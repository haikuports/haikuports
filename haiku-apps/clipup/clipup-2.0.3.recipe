SUMMARY="A tool to manage multiple clipboards"
DESCRIPTION="Ever had something important in your clipboard but you copied \
something else and lost the previous contents? ClipUp allows you to keep \
multiple clips and protect them even between reboots.

ClipUp is invoked by pressing CMD+SHIFT+V or by clicking on the icon in the \
Deskbar.
" 
HOMEPAGE="https://github.com/HaikuArchives/ClipUp"
SRC_URI="git://github.com/HaikuArchives/ClipUp#d47f0f6835"
REVISION="2"
LICENSE="MIT"
COPYRIGHT="2002 Werner Freytag"

ARCHITECTURES="x86_gcc2"

PROVIDES="
	clipup = $portVersion
	app:clipup = $portVersion
	"
REQUIRES="
	haiku >= $haikuVersion
	"
BUILD_PREREQUIRES="
	makefile_engine
	cmd:make
	cmd:mkdepend
	cmd:gcc
	cmd:xres
	"
BUILD_REQUIRES="
	haiku_devel >= $haikuVersion
	"

USER_SETTINGS_FILES="
	settings/ClipUp_settings
	settings/clipup_clips
	"

BUILD()
{
	cd "Input Device"
	make
	cd "../Input Filter Ctrl-V"
	make
	cd "../Main"
	make
}

INSTALL()
{
	mkdir -p $addOnsDir/input_server/devices
	mkdir -p $addOnsDir/input_server/filters

	cd "Input Device"
	make install INSTALL_DIR=temp
	mv temp/* $addOnsDir/input_server/devices
	cd ..
	
	cd "Input Filter Ctrl-V"
	make install INSTALL_DIR=temp
	mv temp/* $addOnsDir/input_server/filters
	cd ..
	
	cd "Main"
	make install INSTALL_DIR=$appsDir
	mkdir -p "$dataDir/deskbar/menu/Desktop applets"
	symlinkRelative -s "$appsDir/ClipUp" "$dataDir/deskbar/menu/Desktop applets"	
}
