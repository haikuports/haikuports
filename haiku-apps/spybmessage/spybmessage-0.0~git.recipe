SUMMARY="A command line tool to monitor BMessage events received by an application"
DESCRIPTION="The spybmessage command is primarily useful as a debugging tool when writing graphical
Haiku applications.  When run from a Terminal it will print out any BMessage events that the target
application receives.

This command comes from the Haiku source code repository but it is not included in normal builds of
Haiku."
HOMEPAGE="https://www.haiku-os.org/"
COPYRIGHT="2008 Fran√ßois Revol (mmuman)"
LICENSE="MIT"
REVISION="1"
srcGitRev="01f3ea96af191482839e6389621d45e56782618c"
SOURCE_URI="https://raw.githubusercontent.com/haiku/haiku/$srcGitRev/src/bin/spybmessage.cpp#noarchive"
CHECKSUM_SHA256="d9d5ed797d8b1031812d84c8e0bd1b0bc565d12c2f6c7c45bed6bf50cadf4724"

ARCHITECTURES="all"
SECONDARY_ARCHITECTURES="x86"

PROVIDES="
	spybmessage$secondaryArchSuffix = $portVersion
	cmd:spybmessage
	"
REQUIRES="
	haiku$secondaryArchSuffix
	"

BUILD_REQUIRES="
	haiku${secondaryArchSuffix}_devel
	"
BUILD_PREREQUIRES="
	cmd:g++$secondaryArchSuffix
	"

BUILD()
{
	g++ -o spybmessage spybmessage.cpp -lbe
}

INSTALL()
{
	mkdir -pv $binDir
	cp -afv spybmessage $binDir
}
