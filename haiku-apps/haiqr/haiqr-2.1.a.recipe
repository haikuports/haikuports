SUMMARY="QR generator for Haiku"
DESCRIPTION="HaiQR is a QR code generator. \
It's a python3 program that uses Haiku APIs through Haiku-PyAPI \
wrapper, pillow and qrcode modules. \
It allows you to create a personalized QR code with a small thumbnail \
in the middle (if you'd like). You can save the QR generated. \
The code is released under MIT license. \
If you mind translating this app send me the translation at my e-mail \
address (f.t.public@gmail.com), you can retrieve the .pot file from \
https://github.com/tmtfx/HaiQR/blob/main/haiqr.pot . "
HOMEPAGE="https://github.com/tmtfx/HaiQR"
COPYRIGHT="2025 Fabio Tomat (TmTFx)"
LICENSE="MIT"
REVISION="1"
SOURCE_URI="https://github.com/tmtfx/HaiQR/archive/refs/tags/$portVersion.tar.gz"
CHECKSUM_SHA256="b54316729193208a6430c3216343f007af20a6eda66652940772e6bcf4f9e28a"
SOURCE_DIR="HaiQR-$portVersion"

ARCHITECTURES="any"
DISABLE_SOURCE_PACKAGE="yes"

PROVIDES="
	haiqr = $portVersion
	app:HaiQR = $portVersion
	cmd:haiqr.py
	"
REQUIRES="
	haiku
	haiku_pyapi_python310
	pillow_python310
	qrcode_python310
	"

INSTALL()
{
	mkdir -p $appsDir/HaiQR2 $binDir $dataDir/HaiQR2 $docDir/HaiQR2 $dataDir/HaiQR2/locale
	cp HaiQR.py $appsDir/HaiQR2
	cp data/HaiQR.png $dataDir/HaiQR2
	cp -R data/locale/* $dataDir/HaiQR2/locale
	cp data/*.html $docDir/HaiQR2
	cp data/*.png $docDir/HaiQR2
	ln -sfn $appsDir/HaiQR2/HaiQR.py $binDir/HaiQR.py
	ln -sfn $appsDir/HaiQR2/HaiQR.py $appsDir/HaiQR2/HaiQR
	addAppDeskbarSymlink $appsDir/HaiQR2/HaiQR
}
