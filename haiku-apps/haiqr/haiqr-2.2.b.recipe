SUMMARY="QR generator for Haiku"
DESCRIPTION="HaiQR is a QR code generator. \
It's a python3 program that uses Haiku APIs through Haiku-PyAPI \
wrapper, pillow and qrcode modules. \
It allows you to create a personalized QR code with a small thumbnail \
in the middle (if you'd like). You can even save the QR generated. \
If you are interested in translating this app, please send me the translation, \
and read the documentation for further details. "
HOMEPAGE="https://github.com/tmtfx/HaiQR"
COPYRIGHT="2025 Fabio Tomat (TmTFx)"
LICENSE="MIT"
REVISION="1"
SOURCE_URI="https://github.com/tmtfx/HaiQR/archive/refs/tags/$portVersion.tar.gz"
CHECKSUM_SHA256="d6cd0d7448622f058713419258fe898810e56bc36d3ff35d6a2e43020acbbfcf"
SOURCE_DIR="HaiQR-$portVersion"

ARCHITECTURES="any"
DISABLE_SOURCE_PACKAGE="yes"

PROVIDES="
	haiqr = $portVersion
	app:HaiQR = $portVersion
	cmd:haiqr.py
	"
REQUIRES="
	haiku
	haiku_pyapi_python310
	pillow_python310
	qrcode_python310
	"

INSTALL()
{
	mkdir -p $appsDir/HaiQR2 $binDir $dataDir/HaiQR2 $docDir/HaiQR2 $dataDir/HaiQR2/locale
	cp HaiQR.py $appsDir/HaiQR2
	cp data/HaiQR.png $dataDir/HaiQR2
	cp data/QRGen2.hvif $dataDir/HaiQR2
	cp -R data/locale/* $dataDir/HaiQR2/locale
	cp data/*.html $docDir/HaiQR2
	cp data/*.png $docDir/HaiQR2
	addattr -t \'VICN\' BEOS:ICON -f $dataDir/HaiQR2/QRGen2.hvif $appsDir/HaiQR2/HaiQR.py
	ln -sfn $appsDir/HaiQR2/HaiQR.py $binDir/HaiQR.py
	ln -sfn $appsDir/HaiQR2/HaiQR.py $appsDir/HaiQR2/HaiQR
	addAppDeskbarSymlink $appsDir/HaiQR2/HaiQR
}
