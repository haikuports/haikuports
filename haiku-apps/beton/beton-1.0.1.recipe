SUMMARY="A native music player and tag editor"
DESCRIPTION="A native music player for Haiku.
Features:
- Audio playback
- Playlist creation
- Reads and writes tags, with bfs attribute synchronization (currently only one way)
- MusicBrainz metadata lookup
- Color support, just drop a color on the seekbar"
HOMEPAGE="https://github.com/m199/BeTon"
COPYRIGHT="2025-2026 Daniel Weber"
LICENSE="MIT"
REVISION="2"
SOURCE_URI="https://github.com/m199/BeTon/archive/refs/tags/v1.0.1.tar.gz"
CHECKSUM_SHA256="f5c58c19c1f1af43a93383206fa5b2f590cbc1a5dfb2b8539737c0e7e07fa7ec"
SOURCE_DIR="BeTon-$portVersion"

ARCHITECTURES="all !x86_gcc2"
SECONDARY_ARCHITECTURES="x86"

PROVIDES="
	beton$secondaryArchSuffix = $portVersion
	app:BeTon = $portVersion
	"
REQUIRES="
	haiku$secondaryArchSuffix
	lib:libmusicbrainz5$secondaryArchSuffix
	lib:libtag$secondaryArchSuffix
	"

BUILD_REQUIRES="
	haiku${secondaryArchSuffix}_devel
	devel:libmusicbrainz5$secondaryArchSuffix
	devel:libtag$secondaryArchSuffix
	"
BUILD_PREREQUIRES="
	makefile_engine
	cmd:g++$secondaryArchSuffix
	cmd:make
	"

BUILD()
{
	make OBJ_DIR=objects $jobArgs
	make OBJ_DIR=objects bindcatalogs
}

INSTALL()
{
	mkdir -p $appsDir
	cp objects/BeTon $appsDir
	addAppDeskbarSymlink $appsDir/BeTon
}
