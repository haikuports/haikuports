SUMMARY="System manager for Haiku"
DESCRIPTION="List running teams and explore various team objects (images, threads, etc.). Also \
provide stack trace of selected thread.

Warning! This software is incomplete."
HOMEPAGE="https://github.com/X547/HaikuUtils"
COPYRIGHT="2020 X512"
LICENSE="MIT"
REVISION="1"
srcGitRev="881fb8eede8867613feea409fb7f943e346d0839"
SOURCE_URI="$HOMEPAGE/archive/$srcGitRev.tar.gz"
CHECKSUM_SHA256="53fba978c84c7e72e1c22850ae54269906f59f3e716f5c80c7aea18e9b351c8b"
SOURCE_FILENAME="HaikuUtils-$srcGitRev-$portVersion.tar.gz"
SOURCE_DIR="HaikuUtils-$srcGitRev/SystemManager"

ARCHITECTURES="all !x86_gcc2"
SECONDARY_ARCHITECTURES="x86"

PROVIDES="
	systemmanager$secondaryArchSuffix = $portVersion
	app:SystemManager = $portVersion
	"
REQUIRES="
	haiku$secondaryArchSuffix
	"

BUILD_REQUIRES="
	haiku${secondaryArchSuffix}_devel
	"
BUILD_PREREQUIRES="
	makefile_engine
	cmd:make
	cmd:gcc$secondaryArchSuffix
	"

BUILD()
{
	make $jobArgs OBJ_DIR=objects
}

INSTALL()
{
	mkdir -p $appsDir
	cp -a objects/SystemManager $appsDir

	addAppDeskbarSymlink $appsDir/SystemManager
}

TEST()
{
	make check
}
