SUMMARY="Client for LiveJournal online journalling community"
DESCRIPTION="AliveJournal is a revamped version of Simon Huet's original client."
HOMEPAGE="https://github.com/grahams/alivejournal"
COPYRIGHT="2000 Simon Huet
	2010 Sean Graham"
LICENSE="GNU GPL v2"
REVISION="1"
gitSrcRevision="e3d2c76f0645076f4e05ea942427e0f6e919948b"
SOURCE_URI="https://github.com/grahams/alivejournal/archive/$gitSrcRevision.tar.gz"
CHECKSUM_SHA256="8215d4ec005fd345c15ece8223f022cc6d434d940dc3c699a00c87c4e8b6ac49"
SOURCE_FILENAME="alivejournal-$portVersion-$gitSrcRevision.tar.gz"
SOURCE_DIR="alivejournal-$gitSrcRevision"

ARCHITECTURES="x86_gcc2 x86_64"

PROVIDES="
	alivejournal = $portVersion
	app:AliveJournal = $portVersion
	"
REQUIRES="
	haiku
	"

BUILD_REQUIRES="
	haiku_devel
	"
BUILD_PREREQUIRES="
	makefile_engine
	cmd:g++
	cmd:make
	cmd:sed
	"

BUILD()
{
	make OBJ_DIR=objects
}

INSTALL()
{
	install -d $appsDir $docDir
	install -t $appsDir objects/AliveJournal
	addAppDeskbarSymlink $appsDir/AliveJournal
	install -t $docDir README
	sed -n '/http://www.bebits.com/app/1920/q;p' $docDir/README
	addResourcesToBinaries Resource.rdef $appsDir/AliveJournal
}
