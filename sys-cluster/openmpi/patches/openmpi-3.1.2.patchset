From 89a9383bcffd979ab9f21c1f8bc553cd4f1574df Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Zolt=C3=A1n=20Mizsei?= <zmizsei@extrowerk.com>
Date: Mon, 6 Aug 2018 12:09:32 +0200
Subject: Build fix


diff --git a/opal/util/stacktrace.c b/opal/util/stacktrace.c
index e9d8cdb..afb791e 100644
--- a/opal/util/stacktrace.c
+++ b/opal/util/stacktrace.c
@@ -32,8 +32,12 @@
 #ifdef HAVE_SYS_STAT_H
 #include <sys/stat.h>
 #endif
-#ifdef HAVE_SYS_FCNTL_H
+#ifdef HAVE_FCNTL_H
 #include <fcntl.h>
+#else
+#ifdef HAVE_SYS_FCNTL_H
+#include <sys/fcntl.h>
+#endif
 #endif
 
 #include <string.h>
-- 
2.16.4


From dba6b864266345b2f63b93e27d0194a4c3566d48 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Zolt=C3=A1n=20Mizsei?= <zmizsei@extrowerk.com>
Date: Mon, 6 Aug 2018 12:29:26 +0200
Subject: Test fix


diff --git a/ompi/debuggers/dlopen_test.c b/ompi/debuggers/dlopen_test.c
index 266a1c2..978ca75 100644
--- a/ompi/debuggers/dlopen_test.c
+++ b/ompi/debuggers/dlopen_test.c
@@ -12,6 +12,7 @@
 #include <stdio.h>
 #include <string.h>
 #include <stdlib.h>
+#include <unistd.h>
 
 #include "opal/runtime/opal.h"
 #include "opal/mca/dl/base/base.h"
-- 
2.16.4


From b81ac9aa68e035bcd7fe3c807e7673e2c147c0f3 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Zolt=C3=A1n=20Mizsei?= <zmizsei@extrowerk.com>
Date: Thu, 23 Aug 2018 22:14:41 +0200
Subject: Haiku got no sys/mount.h


diff --git a/test/util/opal_path_nfs.c b/test/util/opal_path_nfs.c
index b5fad7a..40d0dab 100644
--- a/test/util/opal_path_nfs.c
+++ b/test/util/opal_path_nfs.c
@@ -31,7 +31,9 @@
 #include <dirent.h>
 
 #include <sys/param.h>
+#ifndef __HAIKU__
 #include <sys/mount.h>
+#endif
 #ifdef HAVE_SYS_STATFS_H
 #include <sys/statfs.h>
 #endif
-- 
2.16.4

