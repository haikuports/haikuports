From f134edeb7ab537bf10335a1081eba9bb21a02f27 Mon Sep 17 00:00:00 2001
From: begasus <begasus@gmail.com>
Date: Sat, 22 Dec 2018 13:43:58 +0100
Subject: add the proper place to look for the SDL headers/libs


diff --git a/archs/BeOS/variables.GNU b/archs/BeOS/variables.GNU
index 2e1b65a..d02d976 100644
--- a/archs/BeOS/variables.GNU
+++ b/archs/BeOS/variables.GNU
@@ -5,10 +5,10 @@ STRIP := strip
 MKDIR_CMD = test -d $(@D) || mkdir -p $(@D)
 ############################################################
 
-CPPFLAGS += -I/boot/develop/tools/gnupro/include/SDL
+CPPFLAGS=-I"$(shell finddir B_SYSTEM_HEADERS_DIRECTORY)/SDL"
 
 LDFLAGS += \
-    -L$(HOME)/config/lib -lSDL -lSDL_image -lSDLmain
+    -L$(shell finddir B_SYSTEM_LIB_DIRECTORY) -lSDL -lSDL_image -lSDLmain
 
 prog:	Release/54321-$(ARCH)
 
-- 
2.19.1


From 7719307a888f8efa53c178f6589d2b1e884c22ab Mon Sep 17 00:00:00 2001
From: begasus <begasus@gmail.com>
Date: Sat, 22 Dec 2018 13:47:06 +0100
Subject: use main() instead of SDL_main()


diff --git a/code/main.cpp b/code/main.cpp
index 9c28c76..f174994 100644
--- a/code/main.cpp
+++ b/code/main.cpp
@@ -29,7 +29,7 @@
     #include "life.h"
     #include "lifeController.h"
         extern "C" int
-        SDL_main( int argc, char** argv )
+        main( int argc, char** argv )
         {
                 unsigned int initFlags = 0;
                 initFlags |= SDL_INIT_VIDEO;
-- 
2.19.1


From 05898ad3d124d5d4cf8304a4008732d4228de54d Mon Sep 17 00:00:00 2001
From: begasus <begasus@gmail.com>
Date: Sat, 22 Dec 2018 13:53:35 +0100
Subject: disable fullscreen on startup


diff --git a/code/main.cpp b/code/main.cpp
index f174994..15853be 100644
--- a/code/main.cpp
+++ b/code/main.cpp
@@ -42,7 +42,7 @@
 
                 videoFlags |= SDL_SWSURFACE;
                 if ( argc <= 1 ) {
-                    videoFlags |= SDL_FULLSCREEN;
+                    videoFlags |= SDL_HWPALETTE;
                 }
 
                 SDL_Surface* screen = ::SDL_SetVideoMode(
-- 
2.19.1


From 65e74c582f04594e7c5a9d5e5e525ccb06f85c72 Mon Sep 17 00:00:00 2001
From: begasus <begasus@gmail.com>
Date: Sat, 22 Dec 2018 13:55:58 +0100
Subject: make it launch from Tracker


diff --git a/code/main.cpp b/code/main.cpp
index 15853be..3291e6d 100644
--- a/code/main.cpp
+++ b/code/main.cpp
@@ -28,9 +28,16 @@
     #include "lifeView.h"
     #include "life.h"
     #include "lifeController.h"
+    #ifdef __HAIKU__
+    #include <unistd.h>
+    #include <libgen.h>
+    #endif
         extern "C" int
         main( int argc, char** argv )
         {
+            #ifdef __HAIKU__
+            chdir(dirname(argv[0]));
+            #endif
                 unsigned int initFlags = 0;
                 initFlags |= SDL_INIT_VIDEO;
                 initFlags |= SDL_INIT_AUDIO;
-- 
2.19.1

