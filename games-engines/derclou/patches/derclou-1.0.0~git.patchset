From 67bf42fa0eb447377f1684dfee9acc44a8d63d0b Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Zolt=C3=A1n=20Mizsei?= <zmizsei@extrowerk.com>
Date: Sat, 5 Nov 2016 16:51:29 +0100
Subject: [PATCH] Build fix

---
 gfx/gfx.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/gfx/gfx.c b/gfx/gfx.c
index 78320dd..2d6cdf5 100644
--- a/gfx/gfx.c
+++ b/gfx/gfx.c
@@ -1417,7 +1417,7 @@ int rate[5] = { 60, 17, 7, 7, 7 };
 
 #define MaxAnm 6
 
-int sync[MaxAnm * 2] = {
+int sync2[MaxAnm * 2] = {
     0, 1,
     0, 5,
     1, 2,
@@ -1697,7 +1697,7 @@ void ShowIntro(void)
                 }
 
                 for (s=0; s<MaxAnm; s++) {
-                    if (sync[s*2]==anims && sync[s*2+1] == t) {
+                    if (sync2[s*2]==anims && sync2[s*2+1] == t) {
                         sndPrepareFX(fname[s]);
                         sndPlayFX();
                     }
-- 
2.10.0

From dd69eb80727f36fce003b8950d7d6201442f9130 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Zolt=C3=A1n=20Mizsei?= <zmizsei@extrowerk.com>
Date: Sat, 5 Nov 2016 16:59:31 +0100
Subject: [PATCH] Workdir fix

Work folder fix for Haiku

Workdir fix
---
 base/base.c | 8 ++++++++
 1 file changed, 8 insertions(+)

diff --git a/base/base.c b/base/base.c
index b76643a..3d556c7 100644
--- a/base/base.c
+++ b/base/base.c
@@ -25,6 +25,14 @@ extern unsigned _stklen = 16 * 1024;
 
 #include "SDL.h"
 
+#ifdef __HAIKU__
+#include <libgen.h>
+#endif
+
+#ifdef __HAIKU__
+	chdir(dirname(argv[0]));
+#endif
+
 void *StdBuffer0 = NULL;
 void *StdBuffer1 = NULL;
 
-- 
2.10.0

