SUMMARY="A dummy library tool for Lua"
DESCRIPTION="Historically, functions in libdl provided for dynamic linking \
support. This functionality now resides in libc. This library is maintained \
to provide backward compatibility for both runtime and compilation \
environments. The shared object is implemented as a filter on the runtime \
linker. New application development need not specify â€“ldl."
HOMEPAGE="http://www.gnu-darwin.org/shims"
COPYRIGHT="2009-2010 Dario Faggioli"
LICENSE="GNU GPL v3"
REVISION="1"
SOURCE_URI="http://www.gnu-darwin.org/shims/libdl.c#noarchive"
CHECKSUM_SHA256="830401669a6f27d13114f2a7d40da59b80af791f9a262d7f54c868351e22ecaa"

ARCHITECTURES="x86_gcc2 x86 x86_64"
SECONDARY_ARCHITECTURES="x86"

PROVIDES="
	libdl$secondaryArchSuffix = $portVersion
	lib:libdl$secondaryArchSuffix
	"
REQUIRES="
	haiku$secondaryArchSuffix
	"

BUILD_REQUIRES="
	haiku${secondaryArchSuffix}_devel
	"
BUILD_PREREQUIRES="
	cmd:gcc$secondaryArchSuffix
	cmd:ld$secondaryArchSuffix
	"

BUILD()
{
	gcc -Wall -fPIC libdl.c -c
	gcc -shared -o libdl.so libdl.o
}

INSTALL()
{
	mkdir -p $libDir
	cp libdl.so $libDir
}
