From ab3fd8dfc57e6240ffcba7605a6c9602125b00cb Mon Sep 17 00:00:00 2001
From: mazbrili <mazbrili@yahoo.com>
Date: Fri, 5 Oct 2018 09:28:19 +0700
Subject: set current dir to application dir


diff --git a/src/main.cpp b/src/main.cpp
index 935603e..6bb4275 100644
--- a/src/main.cpp
+++ b/src/main.cpp
@@ -33,6 +33,9 @@
 
 #include <QApplication>
 #include <QTranslator>
+#ifdef Q_OS_HAIKU
+#include <QDir>
+#endif
 
 #include "luckybackupwindow.h"
 #include "global.h"
@@ -44,14 +47,16 @@ QCoreApplication* createApplication(int &argc, char *argv[])
     for (int i = 1; i < argc; ++i)
     if (!qstrcmp(argv[i], "-c") || !(qstrcmp(argv[i], "--no-questions")))
         return new QCoreApplication(argc, argv);
-
+  
     return new QApplication(argc, argv);
 }
 
 int main(int argc, char *argv[])
 {
     QScopedPointer<QCoreApplication> app(createApplication(argc, argv));
-
+		#ifdef Q_OS_HAIKU
+			QDir::setCurrent(QCoreApplication::applicationDirPath());
+		#endif	
     //arguments test
     if (!argumentsTest(argc,argv))
         return 1;		// error code1: something wrong with the command arguments - app fail to start (or just --help or --version given as args)
-- 
2.19.0

