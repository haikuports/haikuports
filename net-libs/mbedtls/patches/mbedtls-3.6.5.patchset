From 026d5bec5ae378c85fe48b9e690d3c0dc2b88c56 Mon Sep 17 00:00:00 2001
From: lizzie <lizzie@eden-emu.dev>
Date: Thu, 23 Oct 2025 07:17:04 +0000
Subject: [PATCH] haikuos fix for missing time() implementation

---
 library/platform_util.c | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

diff --git a/library/platform_util.c b/library/platform_util.c
index 19ef07a..f6cb311 100644
--- a/library/platform_util.c
+++ b/library/platform_util.c
@@ -258,6 +258,9 @@ mbedtls_ms_time_t mbedtls_ms_time(void)
     return current_ms;
 }
 #else
-#error "No mbedtls_ms_time available"
+mbedtls_ms_time_t mbedtls_ms_time(void)
+{
+    return time(NULL) * 1000;
+}
 #endif
 #endif /* MBEDTLS_HAVE_TIME && !MBEDTLS_PLATFORM_MS_TIME_ALT */
-- 
2.51.0

