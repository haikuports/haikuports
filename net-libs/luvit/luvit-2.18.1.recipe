SUMMARY="Asynchronous I/O for Lua"
DESCRIPTION="Luvit is an aynchronous I/O for Lua.

	## Familiar API

	Luvit implements the same APIs as Node.js, but in Lua!

	This helps teams migrate without having to learn a new way of programming.

	## Async Choice

	Choose your async model; we don’t mind; we encourage experimentation.

	If you don’t like callbacks and event emitters, use coroutines and write blocking style code without actually blocking your event loop!


	## Modular Core

	The various projects in the luvit ecosystem can be mixed and matched to build the ideal runtime for your application.

    Use luv directly in luajit
    Use lit without node apis
    The possibilities are endless
	"
HOMEPAGE="https://luvit.io/"
COPYRIGHT="2012 The Luvit Authors
	Portions of this software were based on Node.js, \
	Joyent, Inc. and other Node contributors.
	"
LICENSE="Apache v2"
REVISION="1"
SOURCE_URI="https://lit.luvit.io/packages/luvit/luvit/v$portVersion.zip"
CHECKSUM_SHA256="c75cb97f71a6f10213a9dfc0d99bc07dc82fd970bb41c51a6c456dbb77aa0bcc"
SOURCE_FILENAME="luvit-$portVersion.zip"
SOURCE_DIR=""

ARCHITECTURES="all !x86_gcc2"
if [ "$targetArchitecture" = x86_gcc2 ]; then
SECONDARY_ARCHITECTURES="?x86"
fi

PROVIDES="
	luvit = $portVersion
	cmd:luvit = $portVersion
	"
REQUIRES="
	haiku
	"

BUILD_PREREQUIRES="
	cmd:install
	cmd:lit
	cmd:luvi
	cmd:make
	cmd:which
	"

BUILD()
{
	mkdir -p /tmp/luvitbuild
	HOME=/tmp/luvitbuild lit make . luvit $(which luvi)
}

INSTALL()
{
	mkdir -p $prefix/bin
	install -m 0755 luvit $prefix/bin
}
