SUMMARY="Toolkit for developing, sharing, and running luvit/lua programs and libraries"
DESCRIPTION="Lit is a toolkit designed to make working in the new luvit 2.0 ecosystem easy and even fun.

	* Lit powers the central repository at wss://lit.luvit.io/.
	* Lit is used to publish new packages to the central repository.
	* Lit is used to download and install dependencies into your local tree.
	* Lit can be used to compile luvi apps from folders or zip files into self-executing binaries.

	Lit is also a luvi app and library itself and bootstraps fairly easily.
	"
HOMEPAGE="https://github.com/luvit/lit"
COPYRIGHT="2012 The Luvit Authors
	Portions of this software were based on Node.js, \
	Joyent, Inc. and other Node contributors.
	"
LICENSE="Apache v2"
REVISION="1"
SOURCE_URI="https://lit.luvit.io/packages/luvit/lit/v$portVersion.zip"
CHECKSUM_SHA256="5dd3eb583815afc0589fd330144b2a8ac6a572c79b4cd7d34471d464bb2dde12"
SOURCE_FILENAME="lit-$portVersion.zip"
SOURCE_DIR=""

ARCHITECTURES="all !x86_gcc2"
if [ "$targetArchitecture" = x86_gcc2 ]; then
SECONDARY_ARCHITECTURES="?x86"
fi

PROVIDES="
	lit = $portVersion
	cmd:lit = $portVersion
	"
REQUIRES="
	haiku
	"

BUILD_PREREQUIRES="
	cmd:install
	cmd:luvi
	cmd:which
	"
	
BUILD()
{ 
	mkdir -p /tmp/luvithome
	HOME=/tmp/luvithome luvi . -- make . lit $(which luvi)
}

INSTALL()
{
	mkdir -p $binDir
	install -m 0755 lit $binDir
}
