SUMMARY="A server software compliant with multiple clients"
DESCRIPTION="MiniDLNA MiniDLNA (aka ReadyDLNA) is server software with the \
aim of being fully compliant with DLNA/UPnP-AV clients."
HOMEPAGE="http://sourceforge.net/projects/minidlna/"
COPYRIGHT="2008-2009  Justin Maggard
	2008-2009  Justin Maggard (portions of MiniUPnP project)"REVISION="1"
LICENSE="GNU GPL v2
	BSD (3-clause)"
REVISION="1"
SOURCE_URI="http://sourceforge.net/projects/minidlna/files/minidlna/$portVersion/minidlna-$portVersion.tar.gz"
CHECKSUM_SHA256="67388ba23ab0c7033557a32084804f796aa2a796db7bb2b770fb76ac2a742eec"

ARCHITECTURES="!x86_gcc2 !x86 !x86_64"
SECONDARY_ARCHITECTURES="!x86"

PROVIDES="
	minidlna$secondaryArchSuffix = $portVersion
	cmd:minidlna$secondaryArchSuffix = $portVersion
	"
REQUIRES="
	haiku$secondaryArchSuffix
	lib:libavformat$secondaryArchSuffix
	lib:libavutil$secondaryArchSuffix
	lib:libcurl$secondaryArchSuffix
	lib:libcrypto$secondaryArchSuffix
	lib:libexif$secondaryArchSuffix
	lib:libflac$secondaryArchSuffix
	lib:libiconv$secondaryArchSuffix
	lib:libid3tag$secondaryArchSuffix
	lib:libintl$secondaryArchSuffix
	lib:libjpeg$secondaryArchSuffix
	lib:libogg$secondaryArchSuffix
	lib:libsqlite3$secondaryArchSuffix
	lib:libssl$secondaryArchSuffix
	lib:libvorbis$secondaryArchSuffix
	lib:libvorbisfile$secondaryArchSuffix
	"

BUILD_REQUIRES="
	haiku${secondaryArchSuffix}_devel
	devel:libavformat$secondaryArchSuffix
	devel:libavutil$secondaryArchSuffix
	devel:libcurl$secondaryArchSuffix
	devel:libcrypto$secondaryArchSuffix
	devel:libexif$secondaryArchSuffix
	devel:libflac$secondaryArchSuffix
	devel:libiconv$secondaryArchSuffix
	devel:libid3tag$secondaryArchSuffix
	devel:libintl$secondaryArchSuffix
	devel:libjpeg$secondaryArchSuffix
	devel:libogg$secondaryArchSuffix
	devel:libssl$secondaryArchSuffix
	devel:libsqlite3$secondaryArchSuffix
	devel:libvorbis$secondaryArchSuffix
	devel:libvorbisfile$secondaryArchSuffix
	"
BUILD_PREREQUIRES="
	cmd:aclocal
	cmd:autopoint
	cmd:autoreconf
	cmd:awk
	cmd:bison
	cmd:gcc$secondaryArchSuffix
	cmd:libtoolize$secondaryArchSuffix
	cmd:make
	cmd:pkg_config$secondaryArchSuffix
	"

BUILD()
{
	autoreconf -vfi
	LDFLAGS="-lnetwork" runConfigure ./configure
	make $jobArgs
}

INSTALL()
{
	#cd minidlna-1.0.21
	make install
}
