SUMMARY="A command-line program to download videos from various sites"
DESCRIPTION="The program is usually invoked as youtube-dl followed by \
options and the video URL. Run 'youtube-dl --help' and get a summary \
of all options.
Some YouTube videos are served using Adobe's proprietary RTMP protocol, which \
imposes DRM restrictions and encrypts the connection. youtube-dl is not able \
to download these videos by itself."
HOMEPAGE="http://rg3.github.io/youtube-dl/"
COPYRIGHT="2006-2018 Ricardo Garcia Gonzalez"
LICENSE="Public Domain"
REVISION="1"
SOURCE_URI="https://github.com/rg3/youtube-dl/releases/download/$portVersion/youtube-dl-$portVersion.tar.gz"
CHECKSUM_SHA256="af86595a24ea89f1f705e282193ce973f6f6ce1e3e6700ea03ff0974b6aa0547"
SOURCE_DIR="youtube-dl"

ARCHITECTURES="any"

PROVIDES="
	youtube_dl = $portVersion
	cmd:youtube_dl = $portVersion
	"
REQUIRES="
	haiku
	cmd:python
	cmd:ffmpeg
	"

BUILD_REQUIRES="
	haiku_devel
	"
BUILD_PREREQUIRES="
	cmd:find
	cmd:make
	"

INSTALL()
{
	make install PREFIX="$prefix" MANDIR="$manDir" SHAREDIR="$dataDir"
	install -d "$dataDir"/bash-completion
	mv "$prefix"/etc/bash_completion.d "$dataDir"/bash-completion/completions
	mv "$prefix"/etc/fish "$dataDir"
	rmdir "$prefix"/etc
}
