SUMMARY="Cross-platform C++ library providing a simple API"
DESCRIPTION="A cross-platform library that provides a simple API to read and write INI-style \
configuration files. It supports data files in ASCII, MBCS and Unicode. It is designed explicitly \
to be portable to any platform and has been tested on Windows, WinCE and Linux. Released as \
open-source and free using the MIT licence."
HOMEPAGE="https://github.com/brofield/simpleini"
COPYRIGHT="2006-2024 Brodie Thiesfield"
LICENSE="MIT"
REVISION="1"
SOURCE_URI="https://github.com/brofield/simpleini/archive/refs/tags/v$portVersion.tar.gz"
CHECKSUM_SHA256="10001ee1486ae55259a5408786262bc0f72d699bc9637d536ebc62765d3ecd3b"

ARCHITECTURES="any"

PROVIDES="
	simpleini = $portVersion
	simpleini_devel = $portVersion
	"
REQUIRES="
	haiku
	"

BUILD_REQUIRES="
	haiku_devel
	"
BUILD_PREREQUIRES="
	cmd:cmake
	cmd:gcc
	cmd:make
	"

BUILD()
{
	cmake -B build -S . -DCMAKE_BUILD_TYPE=Release  \
		$cmakeDirArgs \
		-DBUILD_TESTING=OFF \
		-DSIMPLEINI_USE_SYSTEM_GTEST=OFF

	make -C build
}

INSTALL()
{
	make -C build install
}

TEST()
{
	ctest --test-dir build --output-on-failure
}
