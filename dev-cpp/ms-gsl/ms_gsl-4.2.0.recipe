SUMMARY="Guideline Support Library implementation by Microsoft"
DESCRIPTION="The Guidelines Support Library (GSL) contains functions and types that are suggested \
for use by the C++ Core Guidelines (https://github.com/isocpp/CppCoreGuidelines) maintained by \
the Standard C++ Foundation (https://isocpp.org)."
HOMEPAGE="https://github.com/Microsoft/GSL"
COPYRIGHT="2015 Microsoft Corporation."
LICENSE="MIT"
REVISION="1"
SOURCE_URI="https://github.com/microsoft/GSL/archive/refs/tags/v$portVersion.tar.gz"
CHECKSUM_SHA256="2c717545a073649126cb99ebd493fa2ae23120077968795d2c69cbab821e4ac6"
SOURCE_DIR="GSL-$portVersion"

ARCHITECTURES="any"

PROVIDES="
	ms_gsl = $portVersion
	devel:ms_gsl = $portVersion
	"
REQUIRES="
	haiku
	"

BUILD_REQUIRES="
	haiku_devel
	"
BUILD_PREREQUIRES="
	cmd:cmake
	cmd:gcc
	cmd:make
	"

BUILD()
{
	cmake -B build -S . -DCMAKE_BUILD_TYPE=Release \
		$cmakeDirArgs \
		-DGSL_TEST=OFF

	make -C build $jobArgs
}

INSTALL()
{
	make -C build install
}

TEST()
{
	make -C build test
}
