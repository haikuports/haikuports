SUMMARY="Portable core utilities"
DESCRIPTION="A  collection of  unix  tools that  are inherently  portable \
across UNIX and UNIX-like systems.

The following tools are implemented:

  basename cal cat chgrp chmod chown chroot cksum cmp cols comm cp cron cut \
  date dirname du echo ed env expand expr false find flock fold getconf grep \
  head hostname install join kill link ln logger logname ls md5sum mkdir mkfifo \
  mktemp mv nice nl nohup od paste pathchk printenv printf pwd readlink renice \
  rm rmdir sed seq setsid sha1sum sha224sum sha256sum sha238sum sha512sum \
  sha512-224sum sha512-256sum sleep sort split sponge strings sync tail tar \
  tee test tftp time  touch tr true tsort tty uname unexpand uniq unlink \
uudecode uuencode wc which whoami xargs yes"
HOMEPAGE="https://core.suckless.org/sbase/"
COPYRIGHT="2011 Connor Lane Smith \
	2011-2016 Dimitris Papastamos \
	2014-2016 Laslo Hunhold"
LICENSE="MIT"
REVISION="1"
SOURCE_URI="git+http://git.suckless.org/sbase#63271b47f7e045cdee3fa90178560f982b70c218"
CHECKSUM_SHA256="ce30acdf4a41bc5bb30dd955e9eaa75fa216b4e3deb08889ed32433c7b3b97ce"
PATCHES="sbase-$portVersion.patchset"

ARCHITECTURES="all !x86_gcc2"
SECONDARY_ARCHITECTURES="x86"

commandSuffix=$secondaryArchSuffix
commandBinDir=$binDir
if [ "$targetArchitecture" = x86_gcc2 ]; then
	commandSuffix=
	commandBinDir=$prefix/bin
fi

binVersionCompat="$portVersion compat >= 0.0"
PROVIDES="
	sbase$secondaryArchSuffix = $binVersionCompat
	cmd:basename$commandSuffix = $binVersionCompat
	cmd:cal$commandSuffix = $binVersionCompat
	cmd:cat$commandSuffix = $binVersionCompat
	cmd:chgrp$commandSuffix = $binVersionCompat
	cmd:chmod$commandSuffix = $binVersionCompat
	cmd:chown$commandSuffix = $binVersionCompat
	cmd:chroot$commandSuffix = $binVersionCompat
	cmd:cksum$commandSuffix = $binVersionCompat
	cmd:cols$commandSuffix = $binVersionCompat
	cmd:cmp$commandSuffix = $binVersionCompat
	cmd:comm$commandSuffix = $binVersionCompat
	cmd:cp$commandSuffix = $binVersionCompat
	cmd:cut$commandSuffix = $binVersionCompat
	cmd:cron$commandSuffix = $binVersionCompat
	cmd:date$commandSuffix = $binVersionCompat
	cmd:dirname$commandSuffix = $binVersionCompat
	cmd:du$commandSuffix = $binVersionCompat
	cmd:echo$commandSuffix = $binVersionCompat
	cmd:ed$commandSuffix = $binVersionCompat
	cmd:env$commandSuffix = $binVersionCompat
	cmd:expand$commandSuffix = $binVersionCompat
	cmd:expr$commandSuffix = $binVersionCompat
	cmd:false$commandSuffix = $binVersionCompat
	cmd:find$commandSuffix = $binVersionCompat
	cmd:flock$commandSuffix = $binVersionCompat
	cmd:fold$commandSuffix = $binVersionCompat
	cmd:getconf$commandSuffix = $binVersionCompat
	cmd:grep$commandSuffix = $binVersionCompat
	cmd:head$commandSuffix = $binVersionCompat
	cmd:hostname$commandSuffix = $binVersionCompat
	cmd:install$commandSuffix = $binVersionCompat
	cmd:join$commandSuffix = $binVersionCompat
	cmd:kill$commandSuffix = $binVersionCompat
	cmd:link$commandSuffix = $binVersionCompat
	cmd:ln$commandSuffix = $binVersionCompat
	cmd:logger$commandSuffix = $binVersionCompat
	cmd:logname$commandSuffix = $binVersionCompat
	cmd:ls$commandSuffix = $binVersionCompat
	cmd:md5sum$commandSuffix = $binVersionCompat
	cmd:mkdir$commandSuffix = $binVersionCompat
	cmd:mkfifo$commandSuffix = $binVersionCompat
	cmd:mktemp$commandSuffix = $binVersionCompat
	cmd:mv$commandSuffix = $binVersionCompat
	cmd:nice$commandSuffix = $binVersionCompat
	cmd:nl$commandSuffix = $binVersionCompat
	cmd:nohup$commandSuffix = $binVersionCompat
	cmd:od$commandSuffix = $binVersionCompat
	cmd:paste$commandSuffix = $binVersionCompat
	cmd:pathchk$commandSuffix = $binVersionCompat
	cmd:printenv$commandSuffix = $binVersionCompat
	cmd:printf$commandSuffix = $binVersionCompat
	cmd:pwd$commandSuffix = $binVersionCompat
	cmd:readlink$commandSuffix = $binVersionCompat
	cmd:renice$commandSuffix = $binVersionCompat
	cmd:rm$commandSuffix = $binVersionCompat
	cmd:rmdir$commandSuffix = $binVersionCompat
	cmd:sed$commandSuffix = $binVersionCompat
	cmd:setsid$commandSuffix = $binVersionCompat
	cmd:seq$commandSuffix = $binVersionCompat
	cmd:sha1sum$commandSuffix = $binVersionCompat
	cmd:sha224sum$commandSuffix = $binVersionCompat
	cmd:sha238sum$commandSuffix = $binVersionCompat
	cmd:sha256sum$commandSuffix = $binVersionCompat
	cmd:sha512sum$commandSuffix = $binVersionCompat
	cmd:sha512_224sum$commandSuffix = $binVersionCompat
	cmd:sha512_256sum$commandSuffix = $binVersionCompat
	cmd:sleep$commandSuffix = $binVersionCompat
	cmd:sort$commandSuffix = $binVersionCompat
	cmd:split$commandSuffix = $binVersionCompat
	cmd:sponge$commandSuffix = $binVersionCompat
	cmd:strings$commandSuffix = $binVersionCompat
	cmd:sync$commandSuffix = $binVersionCompat
	cmd:tail$commandSuffix = $binVersionCompat
	cmd:tar$commandSuffix = $binVersionCompat
	cmd:tee$commandSuffix = $binVersionCompat
	cmd:test$commandSuffix = $binVersionCompat
	cmd:tftp$commandSuffix = $binVersionCompat
	cmd:time$commandSuffix = $binVersionCompat
	cmd:touch$commandSuffix = $binVersionCompat
	cmd:tr$commandSuffix = $binVersionCompat
	cmd:true$commandSuffix = $binVersionCompat
	cmd:tsort$commandSuffix = $binVersionCompat
	cmd:tty$commandSuffix = $binVersionCompat
	cmd:uname$commandSuffix = $binVersionCompat
	cmd:uuencode$commandSuffix = $binVersionCompat
	cmd:uudecode$commandSuffix = $binVersionCompat
	cmd:uniq$commandSuffix = $binVersionCompat
	cmd:unlink$commandSuffix = $binVersionCompat
	cmd:wc$commandSuffix = $binVersionCompat
	cmd:which$commandSuffix = $binVersionCompat
	cmd:whoami$commandSuffix = $binVersionCompat
	cmd:xargs$commandSuffix = $binVersionCompat
	cmd:yes$commandSuffix = $binVersionCompat
	"
REQUIRES="
	haiku$secondaryArchSuffix
	"

BUILD_PREREQUIRES="
	haiku${secondaryArchSuffix}_devel
	cmd:gcc$secondaryArchSuffix
	cmd:ld$secondaryArchSuffix
	cmd:make
	"

defineDebugInfoPackage sbase$secondaryArchSuffix \
	$commandBinDir/basename \
	$commandBinDir/dircolorscal \
	$commandBinDir/dircolorscat \
	$commandBinDir/dircolorschgrp \
	$commandBinDir/dircolorschmod \
	$commandBinDir/dircolorschown \
	$commandBinDir/dircolorschroot \
	$commandBinDir/dircolorscksum \
	$commandBinDir/dircolorscmp \
	$commandBinDir/dircolorscols \
	$commandBinDir/dircolorscomm \
	$commandBinDir/dircolorscp \
	$commandBinDir/dircolorscron \
	$commandBinDir/dircolorscut \
	$commandBinDir/dircolorsdate \
	$commandBinDir/dircolorsdirname \
	$commandBinDir/dircolorsdu \
	$commandBinDir/dircolorsecho \
	$commandBinDir/dircolorsed \
	$commandBinDir/dircolorsenv \
	$commandBinDir/dircolorsexpand \
	$commandBinDir/expr \
	$commandBinDir/false \
	$commandBinDir/find \
	$commandBinDir/flock \
	$commandBinDir/fold \
	$commandBinDir/getconf \
	$commandBinDir/grep \
	$commandBinDir/head \
	$commandBinDir/hostname \
	$commandBinDir/install \
	$commandBinDir/join \
	$commandBinDir/kill \
	$commandBinDir/link \
	$commandBinDir/ln \
	$commandBinDir/logger \
	$commandBinDir/logname \
	$commandBinDir/ls \
	$commandBinDir/md5sum \
	$commandBinDir/mkdir \
	$commandBinDir/mkfifo \
	$commandBinDir/mktemp \
	$commandBinDir/mv \
	$commandBinDir/nice \
	$commandBinDir/nl \
	$commandBinDir/nohup \
	$commandBinDir/od \
	$commandBinDir/paste \
	$commandBinDir/pathchk \
	$commandBinDir/printenv \
	$commandBinDir/printf \
	$commandBinDir/pwd \
	$commandBinDir/readlink \
	$commandBinDir/renice \
	$commandBinDir/rm \
	$commandBinDir/rmdir \
	$commandBinDir/sed \
	$commandBinDir/seq \
	$commandBinDir/setsid \
	$commandBinDir/sha1sum \
	$commandBinDir/sha224sum \
	$commandBinDir/sha256sum \
	$commandBinDir/sha238sum \
	$commandBinDir/sha512sum \
	$commandBinDir/sha512-224sum \
	$commandBinDir/sha512-256sum \
	$commandBinDir/sleep \
	$commandBinDir/sort \
	$commandBinDir/split \
	$commandBinDir/sponge \
	$commandBinDir/strings \
	$commandBinDir/sync \
	$commandBinDir/tail \
	$commandBinDir/tar \
	$commandBinDir/tee \
	$commandBinDir/test \
	$commandBinDir/tftp \
	$commandBinDir/timetouch \
	$commandBinDir/tr \
	$commandBinDir/true \
	$commandBinDir/tsort \
	$commandBinDir/tty \
	$commandBinDir/uname \
	$commandBinDir/unexpand \
	$commandBinDir/uniq \
	$commandBinDir/unlink \
	$commandBinDir/uudecode \
	$commandBinDir/uuencode \
	$commandBinDir/wc \
	$commandBinDir/which \
	$commandBinDir/whoami \
	$commandBinDir/xargs \
	$commandBinDir/yes

BUILD()
{
	make #$jobArgs
}

INSTALL()
{
	make install PREFIX=$prefix MANPREFIX=$manDir
}

TEST()
{
	make check
}
