SUMMARY="Dump and extract information from the x86 CPUID instruction"
DESCRIPTION="cpuid is capable of dumping all CPUID leaves (except any unknown leaves which \
require special ECX values to dump all information). cpuid can only decode certain leaves, \
but this functionality will be expanded as the CPUID specifications provided by AMD and Intel \
change."
HOMEPAGE="https://github.com/tycho/cpuid/"
COPYRIGHT="2010-2025 Steven Noonan"
LICENSE="ISC"
REVISION="1"
SOURCE_URI="https://github.com/tycho/cpuid/archive/refs/tags/$portVersion.tar.gz"
SOURCE_FILENAME="$portBaseName-$portVersion.tar.gz"
CHECKSUM_SHA256="d7edd2771476aab2f56ba950be0b0433dc136fd827507e81d9a68b83adaa1a9a"
PATCHES="$portBaseName-$portVersion.patchset"

ARCHITECTURES="all !x86_gcc2"
SECONDARY_ARCHITECTURES="x86"

PROVIDES="
	cpuid$secondaryArchSuffix = $portVersion
	cmd:cpuid = $portVersion
	"
REQUIRES="
	haiku$secondaryArchSuffix
	"

BUILD_REQUIRES="
	haiku${secondaryArchSuffix}_devel
	"
BUILD_PREREQUIRES="
	cmd:gcc$secondaryArchSuffix
	cmd:make
	cmd:perl
	cmd:which
	"

BUILD()
{
	make $jobArgs
}

INSTALL()
{
	mkdir -p $prefix/bin
	cp -a cpuid $prefix/bin
}
