From 402a098f5c09141700ee69a49886effa8ecda7b1 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Zolt=C3=A1n=20Mizsei?= <zmizsei@extrowerk.com>
Date: Sun, 30 Jul 2017 19:35:03 +0200
Subject: [PATCH] Haiku shared library build fix (libs have no main() )

---
 base/unixlink.mak | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/base/unixlink.mak b/base/unixlink.mak
index e298115..36244ff 100644
--- a/base/unixlink.mak
+++ b/base/unixlink.mak
@@ -156,7 +156,7 @@ ldt_tr=$(PSOBJ)ldt.tr
 
 $(GS_XE): $(ld_tr) $(gs_tr) $(ECHOGS_XE) $(XE_ALL) $(PSOBJ)gsromfs$(COMPILE_INITS).$(OBJ) \
           $(UNIXLINK_MAK)
-	$(ECHOGS_XE) -w $(ldt_tr) -n - $(CCLD) $(GS_LDFLAGS) -o $(GS_XE)
+	$(ECHOGS_XE) -w $(ldt_tr) -n - $(CCLD) $(GS_LDFLAGS) -o $(GS_XE) -shared
 	$(ECHOGS_XE) -a $(ldt_tr) -n -s $(PSOBJ)gsromfs$(COMPILE_INITS).$(OBJ) $(GS_DOT_O) -s
 	cat $(gsld_tr) >> $(ldt_tr)
 	$(ECHOGS_XE) -a $(ldt_tr) -s - $(EXTRALIBS) $(STDLIBS)
-- 
2.13.1

