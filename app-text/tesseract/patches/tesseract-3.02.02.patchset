From bbaf815d6fd55be7b00c82d408c2dedcbbb9a42d Mon Sep 17 00:00:00 2001
From: Sergei Reznikov <diver@gelios.net>
Date: Tue, 31 Mar 2015 14:43:55 +0300
Subject: Backport 16aa99315a3d - make ocrclass.h public header


diff --git a/ccutil/Makefile.am b/ccutil/Makefile.am
index 5c08f6b..8737dda 100644
--- a/ccutil/Makefile.am
+++ b/ccutil/Makefile.am
@@ -14,13 +14,13 @@ EXTRA_DIST = mfcpch.cpp
 
 include_HEADERS = \
 	basedir.h errcode.h fileerr.h genericvector.h helpers.h host.h memry.h \
-	ndminx.h params.h platform.h serialis.h strngs.h tesscallback.h \
-	unichar.h unicharmap.h unicharset.h
+	ndminx.h params.h ocrclass.h platform.h serialis.h strngs.h \
+	tesscallback.h unichar.h unicharmap.h unicharset.h
      
 noinst_HEADERS = \
     ambigs.h bits16.h bitvector.h ccutil.h clst.h elst2.h \
     elst.h globaloc.h hashfn.h hosthplb.h indexmapbidi.h lsterr.h \
-    mfcpch.h notdll.h nwmain.h ocrclass.h qrsequence.h secname.h \
+    mfcpch.h notdll.h nwmain.h qrsequence.h secname.h \
     sorthelper.h stderr.h tessdatamanager.h tprintf.h unicity_table.h \
     unicodes.h 
 
@@ -51,4 +51,4 @@ if MINGW
 AM_CPPFLAGS += -I$(top_srcdir)/vs2008/port -DWINDLLNAME=\"lib@GENERIC_LIBRARY_NAME@\"
 noinst_HEADERS += ../vs2008/port/strtok_r.h
 libtesseract_ccutil_la_SOURCES += ../vs2008/port/strtok_r.cpp
-endif
\ No newline at end of file
+endif
-- 
2.21.0


From 33079c16ea4bd5c167064ae477d0080370aa4842 Mon Sep 17 00:00:00 2001
From: Jerome Duval <jerome.duval@gmail.com>
Date: Sat, 21 Jan 2017 14:05:21 +0100
Subject: fix missing declaration for fd_set,FD_SET,FD_ZERO,select.


diff --git a/viewer/svutil.cpp b/viewer/svutil.cpp
index bef51b1..20b1d6b 100644
--- a/viewer/svutil.cpp
+++ b/viewer/svutil.cpp
@@ -38,6 +38,7 @@ struct addrinfo {
 #include <stdlib.h>
 #include <string.h>
 #include <netdb.h>
+#include <sys/select.h>
 #include <sys/socket.h>
 #ifdef __linux__
 #include <sys/prctl.h>
-- 
2.21.0


From f3c591004b56947659b5da8c393b43da89890fb7 Mon Sep 17 00:00:00 2001
From: Philippe Houdoin <philippe.houdoin@gmail.com>
Date: Wed, 5 Jul 2017 17:10:00 +0000
Subject: tesseract: fix symbol 'connect' not found when loading
 libtesseract.so


diff --git a/configure.ac b/configure.ac
index a64e167..12fc8fd 100644
--- a/configure.ac
+++ b/configure.ac
@@ -199,6 +199,9 @@ case "$host" in
        LDFLAGS="$LDFLAGS -L/sw/lib"
      fi
   ;;
+  *-haiku*)
+    LDFLAGS="$LDFLAGS -lnetwork"
+  ;;
 esac
 
 # ----------------------------------------
-- 
2.21.0


From 5cfd59185090322e1df719a3b6e7d6bf94ac1051 Mon Sep 17 00:00:00 2001
From: begasus <begasus@gmail.com>
Date: Mon, 3 Jun 2019 17:05:33 +0200
Subject: Fix build on _x86


diff --git a/cube/char_set.cpp b/cube/char_set.cpp
index 16dba49..505ba0a 100644
--- a/cube/char_set.cpp
+++ b/cube/char_set.cpp
@@ -65,13 +65,13 @@ CharSet *CharSet::Create(TessdataManager *tessdata_manager,
       !tessdata_manager->SeekToStart(TESSDATA_UNICHARSET)) {
     fprintf(stderr, "Cube ERROR (CharSet::Create): could not find "
             "either cube or tesseract unicharset\n");
-    return false;
+    return FALSE;
   }
   FILE *charset_fp = tessdata_manager->GetDataFilePtr();
   if (!charset_fp) {
     fprintf(stderr, "Cube ERROR (CharSet::Create): could not load "
             "a unicharset\n");
-    return false;
+    return FALSE;
   }
 
   // If we found a cube unicharset separate from tesseract's, load it and
@@ -90,7 +90,7 @@ CharSet *CharSet::Create(TessdataManager *tessdata_manager,
   }
   if (!loaded) {
     delete char_set;
-    return false;
+    return FALSE;
   }
 
   char_set->init_ = true;
diff --git a/cube/cube_line_segmenter.cpp b/cube/cube_line_segmenter.cpp
index deee573..007af23 100644
--- a/cube/cube_line_segmenter.cpp
+++ b/cube/cube_line_segmenter.cpp
@@ -124,7 +124,7 @@ Pixa *CubeLineSegmenter::CrackLine(Pix *cracked_line_pix,
 
   if (line_con_comps == NULL) {
     delete []lines_pixa;
-    return false;
+    return FALSE;
   }
 
   // assign each conn comp to the a line based on its centroid
@@ -142,7 +142,7 @@ Pixa *CubeLineSegmenter::CrackLine(Pix *cracked_line_pix,
         delete []lines_pixa;
         boxaDestroy(&line_con_comps);
         pixaDestroy(&line_con_comps_pix);
-        return false;
+        return FALSE;
       }
     }
 
@@ -413,14 +413,14 @@ Pix *CubeLineSegmenter::Pixa2Pix(Pixa *pixa, Box **dest_box,
 
   (*dest_box) = boxCreate(min_x, min_y, max_x - min_x, max_y - min_y);
   if ((*dest_box) == NULL) {
-    return false;
+    return FALSE;
   }
 
   // create the union pix
   Pix *union_pix = pixCreate((*dest_box)->w, (*dest_box)->h, img_->d);
   if (union_pix == NULL) {
     boxDestroy(dest_box);
-    return false;
+    return FALSE;
   }
 
   // create a pix corresponding to the union of all pixs
diff --git a/cube/cube_object.cpp b/cube/cube_object.cpp
index 9d31240..f3efdd9 100644
--- a/cube/cube_object.cpp
+++ b/cube/cube_object.cpp
@@ -165,7 +165,7 @@ WordAltList *CubeObject::Recognize(LangModel *lang_mod, bool word_mode) {
       if (deslanted_beam_obj_ == NULL) {
         fprintf(stderr, "Cube ERROR (CubeObject::Recognize): could not "
                 "construct deslanted BeamSearch\n");
-        return false;
+        return FALSE;
       }
     }
 
diff --git a/cube/word_list_lang_model.cpp b/cube/word_list_lang_model.cpp
index c939941..084aa94 100644
--- a/cube/word_list_lang_model.cpp
+++ b/cube/word_list_lang_model.cpp
@@ -74,7 +74,7 @@ LangModEdge **WordListLangModel::GetEdges(CharAltList *alt_list,
   // initialize if necessary
   if (init_ == false) {
     if (Init() == false) {
-      return false;
+      return FALSE;
     }
   }
 
-- 
2.21.0

