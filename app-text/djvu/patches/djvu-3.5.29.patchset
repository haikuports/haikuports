From 36484ecaf926414f3fa4ae1095c25eaec5e491eb Mon Sep 17 00:00:00 2001
From: Sergei Reznikov <diver@gelios.net>
Date: Wed, 25 Mar 2015 10:35:25 +0300
Subject: Fix build


diff --git a/libdjvu/miniexp.cpp b/libdjvu/miniexp.cpp
index 644bc91..8b4c115 100644
--- a/libdjvu/miniexp.cpp
+++ b/libdjvu/miniexp.cpp
@@ -1326,7 +1326,7 @@ static int stdio_fputs(miniexp_io_t *io, const char *s) {
 
 static int true_stdio_fgetc(miniexp_io_t *io) {
   FILE *f = (io->data[0]) ? (FILE*)(io->data[0]) : stdin;
-  return ::getc(f);
+  return getc(f);
 }
 static int compat_getc() { 
   return true_stdio_fgetc(&miniexp_io); 
-- 
2.51.0


From 91924c1e7c912f4ea9de064d619ea56f639cefc8 Mon Sep 17 00:00:00 2001
From: Sergei Reznikov <diver@gelios.net>
Date: Wed, 25 Mar 2015 10:45:06 +0300
Subject: Haiku: gcc2 fix


diff --git a/libdjvu/JB2Image.h b/libdjvu/JB2Image.h
index a87a83b..86a8bfa 100644
--- a/libdjvu/JB2Image.h
+++ b/libdjvu/JB2Image.h
@@ -329,6 +329,7 @@ private:
     int top,left,right,bottom;
     void compute_bounding_box(const GBitmap &cbm);
   };
+public:
   GTArray<LibRect> boxes;
   void get_bounding_box(int shapeno, LibRect &dest);
 };
-- 
2.51.0


From 6ddaf52655597d552580b7df9dadbd32ad542172 Mon Sep 17 00:00:00 2001
From: Begasus <begasus@gmail.com>
Date: Thu, 28 Sep 2023 11:29:36 +0200
Subject: Use freshly build djvused to create the documentation


diff --git a/doc/make-djvulibre-book-en.sh b/doc/make-djvulibre-book-en.sh
index bc56e53..673adcf 100755
--- a/doc/make-djvulibre-book-en.sh
+++ b/doc/make-djvulibre-book-en.sh
@@ -56,6 +56,6 @@ echo ")" >> $tmpdir/outline.txt
 
 ## plug outline
 
-djvused $book -e "set-outline $tmpdir/outline.txt" -s
+../tools/djvused $book -e "set-outline $tmpdir/outline.txt" -s
 
 
-- 
2.51.0

