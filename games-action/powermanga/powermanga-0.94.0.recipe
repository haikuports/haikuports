SUMMARY="A 2D arcade shoot-em-up with 41 levels and more than 2000 sprites"
DESCRIPTION="Made by TLK Games."
HOMEPAGE="http://linux.tlk.fr/games/Powermanga"
REVISION="1"
srcGitRev="0bf0d02e1b0effc14800a0d43b1714ffe919b395"
COPYRIGHT="TLK Games 1998-2014"
LICENSE="GNU GPL v3"
SOURCE_URI="https://github.com/brunonymous/powermanga/archive/$srcGitRev.tar.gz"
CHECKSUM_SHA256="649512974a8a0d2393d2efee561e4774ea29a1d00567667f631f2bdcff4a3369"
SOURCE_DIR=""

ARCHITECTURES="any"

PROVIDES="
	powermanga$secondaryArchSuffix = $portVersion
	app:Powermanga$secondaryArchSuffix
	"

REQUIRES="
	haiku$secondaryArchSuffix
	lib:libsdl$secondaryArchSuffix
	lib:libsdl_mixer$secondaryArchSuffix
	lib:libpng
	"

BUILD_REQUIRES="
	haiku${secondaryArchSuffix}_devel
	devel:libsdl$secondaryArchSuffix
	devel:sdl_mixer$secondaryArchSuffix
	cmd:make
	automake$secondaryArchSuffix
	autoconf$secondaryArchSuffix
	cmd:gcc
	devel:libpng
	zlib_devel
	"

BUILD()
{
	echo "running bootstrap..."
	./bootstrap
	echo "running configure..."
	./configure --prefix $prefix
	echo "running make"
	make
	echo "build successful"
}

INSTALL()
{
	echo "installing"
	mkdir -p $appsDir/Powermanga
	mv src/powermanga $appsDir/Powermanga/
	cp -r texts $appsDir/Powermanga/
	cp -r sounds $appsDir/Powermanga/
	cp -r graphics $appsDir/Powermanga/
	cp -r data $appsDir/Powermanga/
	addAppDeskbarSymlink $appsDir/Powermanga/powermanga "Powermanga"
}