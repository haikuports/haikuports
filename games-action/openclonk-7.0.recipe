SUMMARY="A free multiplayer action game where you control clonks"
DESCRIPTION="OpenClonk is a free multiplayer action game in which you\
control clonks, small, but witty and nimble humanoid beings. The game\
is mainly about mining, settling and fast-paced melees."
HOMEPAGE="http://www.openclonk.org/"
COPYRIGHT="
2009-2016 The OpenClonk Team and contributors
2006-2007  Alexander Post
2004-2013  Armin Burgmeier
2005-2006, 2008-2010  Asmageddon
2010, 2012  Benjamin Herr
2006, 2012  Bernhard Bonigl
2009-2010  Carl-Philip Hänsch
2001  Carlo Teubner
2009, 2011-2013  David Dormagen
2011-2012  Felix Wagner
2006  Florian Groß
2004-2012  Günther Brammer
2006-2008  Julian Raschke
2010-2012  Julius Michaelis
2010-2011  Maikel de Vries
2010  Manuel Riecke
2009  Mark Haßelbusch
2009-2012  Martin Plicht
1998-2009  Matthes Bender
2001  Michael Käser
2009  mizipzor
2009-2013  Nicolas Hake
2013  Oliver Schneider
2010  Peewee
2001-2011  Peter Wortmann
2012  Philipp Kern
2009-2010  Richard Gerum
2001-2013  Sven Eberhardt
2004-2005, 2009-2013  Tobias Zwick
"
LICENSE="ISC"
SOURCE_URI="http://www.openclonk.org/builds/release/$portVersion/openclonk-$portVersion-src.tar.bz2"
CHECKSUM_SHA256="bc1a231d72774a7aa8819e54e1f79be27a21b579fb057609398f2aa5700b0732"
SOURCE_DIR="openclonk-$portVersion-src"

ARCHITECTURES="!x86_gcc2 ?x86 ?x86_64"
SECONDARY_ARCHITECTURES="x86"

PROVIDES="
	openclonk$secondaryArchSuffix = $portVersion
	app:OpenClonk$secondaryArchSuffix = $portVersion
	"
REQUIRES="
	haiku$secondaryArchSuffix
	lib:libpng$secondaryArchSuffix
	lib:libjpeg_turbo$secondaryArchSuffix
	lib:libfreetype$secondaryArchSuffix
	lib:libogg$secondaryArchSuffix
	lib:libvorbis$secondaryArchSuffix
	lib:libxrandr$secondaryArchSuffix
	lib:libGL$secondaryArchSuffix
	lib:libGLEW$secondaryArchSuffix
	lib:libGLU$secondaryArchSuffix
	lib:libault$secondaryArchSuffix
	lib:libat_1.0k$secondaryArchSuffix
	lib:libc$secondaryArchSuffix
	lib:libcairo_gobject$secondaryArchSuffix
	lib:libcairo$secondaryArchSuffix
	lib:libgcc_s$secondaryArchSuffix
	lib:libgdk_pixbuf_2.0$secondaryArchSuffix
	lib:libglib_2.0$secondaryArchSuffix
	lib:libgobject_2.0$secondaryArchSuffix
	lib:libgthread_2.0$secondaryArchSuffix
	lib:libixml$secondaryArchSuffix
	lib:libm$secondaryArchSuffix
	lib:libopenal$secondaryArchSuffix
	lib:libpango_1.0$secondaryArchSuffix
	lib:libpangocairo_1.0$secondaryArchSuffix
	lib:libpng16$secondaryArchSuffix
	lib:libpthread$secondaryArchSuffix
	lib:libstdc++$secondaryArchSuffix
	lib:libthreadutil$secondaryArchSuffix
	lib:libtinyxml$secondaryArchSuffix
	lib:libupnp$secondaryArchSuffix
	lib:libvorbisfile$secondaryArchSuffix
	lib:libz$secondaryArchSuffix
	lib:libz$secondaryArchSuffix
	"
BUILD_REQUIRES"
	haiku_devel$secondaryArchSuffix
	devel:g++$secondaryArchSuffix
	devel:libz$secondaryArchSuffix
	devel:libpng$secondaryArchSuffix
	devel:libjpeg_turbo$secondaryArchSuffix
	devel:libfreetype$secondaryArchSuffix
	devel:libogg$secondaryArchSuffix
	devel:libvorbis$secondaryArchSuffix
	devel:libxrandr$secondaryArchSuffix
	devel:libGL$secondaryArchSuffix
	devel:libGLEW$secondaryArchSuffix
	devel:libGLU$secondaryArchSuffix
	devel:libault$secondaryArchSuffix
	devel:libat_1.0k$secondaryArchSuffix
	devel:libc$secondaryArchSuffix
	devel:libcairo_gobject$secondaryArchSuffix
	devel:libcairo$secondaryArchSuffix
	devel:libgcc_s$secondaryArchSuffix
	devel:libgdk_pixbuf-2.0$secondaryArchSuffix
	devel:libgio_2.0$secondaryArchSuffix
	devel:libglib_2.0$secondaryArchSuffix
	devel:libgobject_2.0$secondaryArchSuffix
	devel:libgthread_2.0$secondaryArchSuffix
	devel:libixml$secondaryArchSuffix
	devel:libm$secondaryArchSuffix
	devel:libopenal$secondaryArchSuffix
	devel:libpango_1.0$secondaryArchSuffix
	devel:libpangocairo_1.0$secondaryArchSuffix
	devel:libpng16$secondaryArchSuffix
	devel:libpthread$secondaryArchSuffix
	devel:libstdc++$secondaryArchSuffix
	devel:libthreadutil$secondaryArchSuffix
	devel:libtinyxml$secondaryArchSuffix
	devel:libupnp$secondaryArchSuffix
	devel:libvorbisfile$secondaryArchSuffix
	devel:libz$secondaryArchSuffix
        "
BUILD_PREREQUIRES="
	cmd:cmake
	cmd:make
	cmd:gcc$secondaryArchSuffix
        "
BUILD()
{
	mkdir -p build
	cd build
	cmake .. DCMAKE_INSTALL_PREFIX=$appsDir
	make $jobArgs
}

INSTALL()
{
	cd build
	make install
}
