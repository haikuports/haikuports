SUMMARY="Console type RPG"
DESCRIPTION="The well-known KQ console-style RPG"
HOMEPAGE="http://kqlives.sourceforge.net/"
COPYRIGHT="JoshBolduc 2002
	Allegro Community 2006-2009"
LICENSE="GNU GPL v2"
REVISION="4"
SOURCE_URI="http://sourceforge.net/projects/kqlives/files/KQ/20091214/kq-$portVersion.tar.gz"
CHECKSUM_SHA256="a8742d0a8781bd3626aef17ae382525b0abb4ab194004c9acf9f136b7be2b6fd"
SOURCE_DIR="kq-$portVersion"
PATCHES="kqlives-$portVersion.patchset"

ARCHITECTURES="?all !x86_gcc2"
SECONDARY_ARCHITECTURES="?x86"

PROVIDES="
	kqlives$secondaryArchSuffix = $portVersion
	cmd:kq
	cmd:mapdiff
	cmd:mapdraw
	cmd:mapdump
	"
REQUIRES="
	haiku$secondaryArchSuffix
	lib:libaldmb$secondaryArchSuffix
	lib:liballeg$secondaryArchSuffix
	lib:libdumb$secondaryArchSuffix
	lib:liblua$secondaryArchSuffix
	"

BUILD_REQUIRES="
	haiku${secondaryArchSuffix}_devel
	devel:liballeg$secondaryArchSuffix
	devel:libdumb$secondaryArchSuffix
	devel:liblua$secondaryArchSuffix >= 5.1
	"
BUILD_PREREQUIRES="
	cmd:aclocal
	cmd:autopoint
	cmd:autoreconf
	cmd:gcc$secondaryArchSuffix
	cmd:luac
	cmd:make
	cmd:pkg_config$secondaryArchSuffix
	"

BUILD()
{
	autoreconf -fi
	runConfigure ./configure
	make $jobArgs
}

INSTALL()
{
	make install
}
