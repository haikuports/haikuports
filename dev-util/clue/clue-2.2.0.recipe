SUMMARY="A GUI tracing tool"
DESCRIPTION="Clue allows inspection on almost all of Haiku's native objects."
HOMEPAGE="https://github.com/HaikuArchives/Clue"
COPYRIGHT="Jeff Braun and Mathew Hounsell"
LICENSE="GNU LGPL v2"
REVISION="1"
srcGitRev="0d49930871aa9e3c539f094f299d8a1f43150303"
SOURCE_URI="https://github.com/HaikuArchives/Clue/archive/$srcGitRev.tar.gz"
CHECKSUM_SHA256="33fa1f1000c62090ed285bc8e9e81f2f1bccc50a0ef2ab4ccaa1c4949f5dcfc1"
SOURCE_FILENAME="Clue-$portVersion-$srcGitRev.tar.gz"
SOURCE_DIR="Clue-$srcGitRev"
PATCHES="clue-$portVersion.patchset"

ARCHITECTURES="x86_gcc2 x86 x86_64"

PROVIDES="
	clue = $portVersion
	app:clue = $portVersion
	lib:libclue
	"
REQUIRES="
	haiku
	"
BUILD_REQUIRES="
	haiku_devel
	devel:libgl
	"
BUILD_PREREQUIRES="
	makefile_engine
	cmd:gcc
	cmd:make
	"
BUILD()
{
	cd source/library
	make
	cp ./objects.*/libclue.so ../viewer
	cp ./objects.*/libclue.so ../sample
	cd ../viewer
	make
	cd ../sample
	make
}

INSTALL()
{
	mkdir -p $libDir
	mkdir -p $appsDir/Clue
	cp ./source/library/objects.*/libclue.so $libDir
	cp ./source/viewer/objects.*/clue-viewer $appsDir/Clue
	cp ./source/sample/objects.*/clue-sample $appsDir/Clue
	cp -R ./help $appsDir/Clue
	addAppDeskbarSymlink $appsDir/Clue/clue-viewer Clue
	addAppDeskbarSymlink $appsDir/Clue/clue-sample "Clue sample app"
}
