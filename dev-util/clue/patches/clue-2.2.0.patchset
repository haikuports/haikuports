From d587408d6a3ca8c8629dbc57244a6c026268f16e Mon Sep 17 00:00:00 2001
From: Mpcs <kuba.mpcs@gmail.com>
Date: Thu, 1 Nov 2018 10:07:07 +0000
Subject: Build Fixes


diff --git a/Clue-master/source/library/Makefile b/Clue-master/source/library/Makefile
index fe570ba..3e596f5 100644
--- a/Clue-master/source/library/Makefile
+++ b/Clue-master/source/library/Makefile
@@ -120,7 +120,7 @@ SYMBOLS :=
 DEBUGGER := 
 
 #	Specify any additional compiler flags to be used.
-COMPILER_FLAGS = 
+COMPILER_FLAGS = -fpermissive
 
 #	Specify any additional linker flags to be used.
 LINKER_FLAGS = 
diff --git a/Clue-master/source/library/client/Inspect_Structs.cpp b/Clue-master/source/library/client/Inspect_Structs.cpp
index ab72611..8a15250 100644
--- a/Clue-master/source/library/client/Inspect_Structs.cpp
+++ b/Clue-master/source/library/client/Inspect_Structs.cpp
@@ -2572,8 +2572,8 @@ Inspect_Struct_media_header
 		strDetails << tabindent << "user_data_type= " << inValue->user_data_type << g_pNewline;
 		strDetails << tabindent << "user_data[]= not implemented in this release\n";
 
-		strDetails << tabindent << "_reserved_[0]= " << inValue->_reserved_[0] << g_pNewline;
-		strDetails << tabindent << "_reserved_[1]= " << inValue->_reserved_[1] << g_pNewline;
+		//strDetails << tabindent << "_reserved_[0]= " << inValue->_reserved_[0] << g_pNewline;
+		//strDetails << tabindent << "_reserved_[1]= " << inValue->_reserved_[1] << g_pNewline;
 
 		strDetails << tabindent << "file_pos= " << inValue->file_pos << g_pNewline;
 		strDetails << tabindent << "orig_size= " << inValue->orig_size << g_pNewline;
@@ -2681,7 +2681,7 @@ Inspect_Struct_media_file_format
 	{
 		strDetails << tabindent << "capabilities= " << inValue->capabilities << g_pNewline;
 #ifndef CLUE_ON_ZETA_HACK
-		Inspect_Struct_media_file_format_id (strDetails, inValue->id, inIndent, "id= ");
+		Inspect_Struct_media_file_format_id (strDetails, &inValue->id, inIndent, "id= ");
 #endif
 		Inspect_Enum_media_format_family (strDetails, inValue->family, inIndent, "family= ");
 		strDetails << tabindent << "version= " << inValue->version << g_pNewline;
@@ -4069,14 +4069,14 @@ Inspect_Struct_system_info
 
 	if (NULL != inValue)
 	{
-		strDetails << tabindent << "id= " << inValue->id[0] << inValue->id[1] << g_pNewline;
+		//strDetails << tabindent << "id= " << inValue->id[0] << inValue->id[1] << g_pNewline;
 		strDetails << tabindent << "boot_time= " << inValue->boot_time << g_pNewline;
 		strDetails << tabindent << "cpu_count= " << inValue->cpu_count << g_pNewline;
-		Inspect_Enum_cpu_type (strDetails, inValue->cpu_type, inIndent, "  |  cpu_type= ");
-		strDetails << tabindent << "cpu_revision= " << inValue->cpu_revision << g_pNewline;
-		strDetails << tabindent << "cpu_clock_speed= " << inValue->cpu_clock_speed << g_pNewline;
-		strDetails << tabindent << "bus_clock_speed= " << inValue->bus_clock_speed << g_pNewline;
-		Inspect_Enum_platform_type (strDetails, inValue->platform_type, inIndent, "  |  platform_type= ");
+		//Inspect_Enum_cpu_type (strDetails, inValue->cpu_type, inIndent, "  |  cpu_type= ");
+		//strDetails << tabindent << "cpu_revision= " << inValue->cpu_revision << g_pNewline;
+		//strDetails << tabindent << "cpu_clock_speed= " << inValue->cpu_clock_speed << g_pNewline;
+		//strDetails << tabindent << "bus_clock_speed= " << inValue->bus_clock_speed << g_pNewline;
+		//Inspect_Enum_platform_type (strDetails, inValue->platform_type, inIndent, "  |  platform_type= ");
 		strDetails << tabindent << "max_pages= " << inValue->max_pages << g_pNewline;
 		strDetails << tabindent << "used_pages= " << inValue->used_pages << g_pNewline;
 		strDetails << tabindent << "page_faults= " << inValue->page_faults << g_pNewline;
@@ -4092,7 +4092,7 @@ Inspect_Struct_system_info
 		strDetails << tabindent << "kernel_build_date= " << inValue->kernel_build_date << g_pNewline;
 		strDetails << tabindent << "kernel_build_time= " << inValue->kernel_build_time << g_pNewline;
 		strDetails << tabindent << "kernel_version= " << inValue->kernel_version << g_pNewline;
-		strDetails << tabindent << "_busy_wait_time= " << inValue->_busy_wait_time << g_pNewline;
+		//strDetails << tabindent << "_busy_wait_time= " << inValue->_busy_wait_time << g_pNewline;
 	}
 	else
 	{
diff --git a/Clue-master/source/sample/Makefile b/Clue-master/source/sample/Makefile
index ad26b00..ddee6c8 100644
--- a/Clue-master/source/sample/Makefile
+++ b/Clue-master/source/sample/Makefile
@@ -104,10 +104,10 @@ SYMBOLS :=
 DEBUGGER := 
 
 #	Specify any additional compiler flags to be used.
-COMPILER_FLAGS = 
+COMPILER_FLAGS = -fpermissive 
 
 #	Specify any additional linker flags to be used.
-LINKER_FLAGS = 
+LINKER_FLAGS = -lstdc++ -lclue
 
 #	Specify the version of this binary. Example:
 #		-app 3 4 0 d 0 -short 340 -long "340 "`echo -n -e '\302\251'`"1999 GNU GPL"
diff --git a/Clue-master/source/sample/Sample.cpp b/Clue-master/source/sample/Sample.cpp
index 7dce52a..cf8056b 100644
--- a/Clue-master/source/sample/Sample.cpp
+++ b/Clue-master/source/sample/Sample.cpp
@@ -431,10 +431,6 @@ CView :: MessageReceived
 			BRect rect (Bounds ());
 			TRACE_OBJECT ((CC_INTERFACE, CR_OBJECT, &rect, "a rect"));
 
-			be_app->Lock ();  //needs to be locked!!!
-			TRACE_OBJECT ((CC_APPLICATION, CR_OBJECT, be_app, "be_app"));
-			be_app->Unlock ();
-
 			TRACE_OBJECT ((CC_APPLICATION, CR_OBJECT, &be_app_messenger, "be_app_messenger"));
 
 			be_clipboard->Lock ();  //needs to be locked!!!
diff --git a/Clue-master/source/viewer/ActiveMenuItem.cpp b/Clue-master/source/viewer/ActiveMenuItem.cpp
index 32550a6..7a6d5d5 100644
--- a/Clue-master/source/viewer/ActiveMenuItem.cpp
+++ b/Clue-master/source/viewer/ActiveMenuItem.cpp
@@ -23,6 +23,8 @@
 #include "ActiveMenuItem.h"
 #endif
 
+#include <string.h>
+
 //====================================================================
 //	BitmapMenuItem Implementation
 
diff --git a/Clue-master/source/viewer/BitmapMenuItem.cpp b/Clue-master/source/viewer/BitmapMenuItem.cpp
index 8ea5c60..05d479d 100644
--- a/Clue-master/source/viewer/BitmapMenuItem.cpp
+++ b/Clue-master/source/viewer/BitmapMenuItem.cpp
@@ -19,6 +19,7 @@
 #include "BitmapMenuItem.h"
 #endif
 
+#include <string.h>
 
 /*----------------------------------------------------------------*/
 /*----- BMenuItem class ------------------------------------------*/
diff --git a/Clue-master/source/viewer/Makefile b/Clue-master/source/viewer/Makefile
index d78aa26..7e173ad 100644
--- a/Clue-master/source/viewer/Makefile
+++ b/Clue-master/source/viewer/Makefile
@@ -160,10 +160,10 @@ SYMBOLS :=
 DEBUGGER := 
 
 #	Specify any additional compiler flags to be used.
-COMPILER_FLAGS = 
+COMPILER_FLAGS = -fpermissive
 
 #	Specify any additional linker flags to be used.
-LINKER_FLAGS = 
+LINKER_FLAGS = -lstdc++
 
 #	Specify the version of this binary. Example:
 #		-app 3 4 0 d 0 -short 340 -long "340 "`echo -n -e '\302\251'`"1999 GNU GPL"
diff --git a/Clue-master/source/viewer/PrintView.h b/Clue-master/source/viewer/PrintView.h
index 136d58c..5f9a6e0 100644
--- a/Clue-master/source/viewer/PrintView.h
+++ b/Clue-master/source/viewer/PrintView.h
@@ -29,6 +29,7 @@
 #include <Rect.h>
 #endif
 
+#include "BackView.h"
 
 class PrintViewa : public BView
 {
diff --git a/Clue-master/source/viewer/RefFilter.cpp b/Clue-master/source/viewer/RefFilter.cpp
index f25a950..7d5d46e 100644
--- a/Clue-master/source/viewer/RefFilter.cpp
+++ b/Clue-master/source/viewer/RefFilter.cpp
@@ -34,6 +34,7 @@ include header files
 #include "constants.h"
 #endif
 
+#include <string.h>
 
 /***************************************************************
 ***************************************************************/
-- 
2.19.0

