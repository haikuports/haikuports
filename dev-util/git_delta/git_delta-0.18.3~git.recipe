SUMMARY="A syntax-highlighting pager for git, diff, grep, and blame output"
DESCRIPTION="Delta allows extensive flexibility to the layout and styling of diffs"
HOMEPAGE="https://dandavison.github.io/delta/"
COPYRIGHT="2020 Dan Davison"
LICENSE="MIT"
REVISION="1"
srcGitRev=acd758f7a08df6c2ac5542a2c5a4034c664a9ed8
SOURCE_URI="https://github.com/dandavison/delta/archive/$srcGitRev.tar.gz"
#future?
#SOURCE_URI="https://github.com/dandavison/delta/archive/refs/tags/0.18.3.tar.gz"
SOURCE_DIR="delta-$srcGitRev"
CHECKSUM_SHA256="546a9a7d405c41c9108242da5875036fbcfbf6d5b3b810c183ee0e2f550ec1ce"
PATCHES="git_delta-$portVersion.patchset"
ARCHITECTURES="?all x86_64"

PROVIDES="
	git_delta = $portVersion
	cmd:delta = $portVersion
	"
REQUIRES="
	haiku
	lib:libz
	"

BUILD_REQUIRES="
	haiku_devel
	cmd:gcc
	cmd:make
	cmd:rustc
	devel:libz
	"

BUILD()
{
	make version
	cargo build --release
}

INSTALL()
{
	mkdir -p $binDir
	cp target/release/delta $binDir
}
