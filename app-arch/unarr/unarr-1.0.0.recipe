SUMMARY="Decompression library for RAR, TAR, ZIP and 7z archives"
<<<<<<< HEAD
DESCRIPTION="
unarr originated as a port of the RAR extraction features from \
The Unarchiver project required for extracting images from comic \
book archives (.cbr). It was written as an alternative to \
libarchive which didn't have support for parsing filters or solid \
compression at the time."
=======
DESCRIPTION="unarr originated as a port of the RAR extraction features from \
The Unarchiver project required for extracting images from comic \
book archives (.cbr). It was written as an alternative to \
libarchive which didn't have support for parsing filters or solid \
compression at the time."
>>>>>>> c7a6ee1bdc0321939e6e98780e4139f312064885
HOMEPAGE="https://github.com/sumatrapdfreader/sumatrapdf/tree/master/ext/unarr"
COPYRIGHT="The Unarchiver project (https://code.google.com/p/theunarchiver/) \
Simon BÃ¼nzli (zeniko at gmail.com, http://www.zeniko.ch/#SumatraPDF)"
LICENSE="GNU LGPL v3"
REVISION="1"
<<<<<<< HEAD
SOURCE_URI="https://github.com/zeniko/unarr/archive/d1be8c43a82a4320306c8e835a86fdb7b2574ca7.zip"
CHECKSUM_SHA256="91a4c75a62d14513f95a193668565124acae1c3b6b39384212c6313821b92c4f"
SOURCE_DIR="unarr-d1be8c43a82a4320306c8e835a86fdb7b2574ca7"
=======
SOURCE_URI="http://download.opensuse.org/repositories/home:/selmf/xUbuntu_15.10/libunarr_1.0~r188.c4136ab.orig.tar.xz"
CHECKSUM_SHA256="d799a8f61e2c87c5fb52f01770b11eaaff1e3cb5840ab6852056d15967f664cb"
SOURCE_DIR="libunarr"
>>>>>>> c7a6ee1bdc0321939e6e98780e4139f312064885

ARCHITECTURES="!x86_gcc2 x86 x86_64"
SECONDARY_ARCHITECTURES="x86"

PROVIDES="
	unarr$secondaryArchSuffix = $portVersion
<<<<<<< HEAD
	cmd:unarr$secondaryArchSuffix = $portVersion compat >= 1
	lib:libunarr$secondaryArchSuffix
=======
	cmd:unarr$secondaryArchSuffix = $portVersion
	lib:libunarr$secondaryArchSuffix = $portVersion
>>>>>>> c7a6ee1bdc0321939e6e98780e4139f312064885
	"
REQUIRES="
	haiku$secondaryArchSuffix
	"

<<<<<<< HEAD
BUILD_REQUIRES="
	"
BUILD_PREREQUIRES="
	haiku${secondaryArchSuffix}_devel
=======
PROVIDES_devel="
	unarr${secondaryArchSuffix}_devel = $portVersion
	devel:libunarr$secondaryArchSuffix = $portVersion
	"
REQUIRES_devel="
	unarr$secondaryArchSuffix == $portVersion base
	"

BUILD_REQUIRES="
	haiku${secondaryArchSuffix}_devel
	"
BUILD_PREREQUIRES="
>>>>>>> c7a6ee1bdc0321939e6e98780e4139f312064885
	cmd:gcc$secondaryArchSuffix
	cmd:ld$secondaryArchSuffix
	cmd:make
	"

PATCH()
{
	sed -e s/-lm//g -i Makefile
}

BUILD()
{
	make $jobArgs
}

INSTALL()
{
<<<<<<< HEAD
	mkdir -p $binDir
	cp build/debug/unarr-test $binDir/unarr
	mkdir -p $developDir
	cp build/debug/libunarr.a $developDir/libunarr.a
=======
	mkdir -p $binDir $libDir $includeDir
	cp build/debug/unarr-test $binDir/unarr
	cp build/debug/libunarr.a $libDir/libunarr.a
	cp unarr.h $includeDir/unarr.h
	
	prepareInstalledDevelLib libunarr
	packageEntries devel \
		$developDir
>>>>>>> c7a6ee1bdc0321939e6e98780e4139f312064885
}
